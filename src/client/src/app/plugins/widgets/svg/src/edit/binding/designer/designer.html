<div class="gf-form-group muted" *ngIf="!id; else existingId">
	<i>Select binding target element.</i>
</div>

<ng-template #existingId>
	<div class="gf-form-group">

		<h5 class="section-heading" >
			Rules
		</h5>
		
		<div *ngFor="let rule of rules">
	
			<ng-container  [ngSwitch]="rule.type">
				<binding-if-rule 
					*ngSwitchCase="BindingRuleTypeRef.If"
					[rule]="rule"
					(change)="onRuleChangeDetected()">
				</binding-if-rule>
	
				<binding-switch-rule 
					*ngSwitchCase="BindingRuleTypeRef.Switch" 
					[rule]="rule"
					(change)="onRuleChangeDetected()">
				</binding-switch-rule>
	
				<binding-map-rule 
					*ngSwitchCase="BindingRuleTypeRef.Map" 
					[rule]="rule"
					(change)="onRuleChangeDetected()">
				</binding-map-rule>
			</ng-container>
	
		</div>
	
		<div class="gf-form">
			<label class="gf-form-label pointer" (click)="cm.show( $event )">
				<i class="fa fa-plus"></i>
			</label>

			<label class="gf-form-label pointer ml-1" (click)="onPasteRule()" >
				<i class="fa fa-paste"></i>
			</label>
		</div>
	
		<ed-context-menu [items]="addMunuItems" #cm></ed-context-menu>
	
	</div>
	
	<binding-link [id]="id"></binding-link>
</ng-template>


