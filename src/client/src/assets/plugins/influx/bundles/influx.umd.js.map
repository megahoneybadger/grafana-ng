{"version":3,"file":"influx.umd.js","sources":["../../../../app/plugins/datasources/influx/src/settings/settings.html","../../../../app/plugins/datasources/influx/src/settings/settings.ts","../../../../app/plugins/datasources/influx/src/metrics/metrics.m.ts","../../../../app/plugins/datasources/influx/src/metrics/builder.ts","../../../../../node_modules/tslib/tslib.es6.js","../../../../app/plugins/datasources/influx/src/metrics/designer/query/query-base.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/measurement/measurement.html","../../../../app/plugins/datasources/influx/src/metrics/designer/query/measurement/measurement.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/func/picker/func-items.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/func/picker/func-picker.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/func/editor/func-editor.html","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/func/editor/func-editor.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/field.html","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/field.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/fields.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/group-by/tag-label.c.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/group-by/group-by.html","../../../../app/plugins/datasources/influx/src/metrics/designer/query/group-by/group-by.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/query.html","../../../../app/plugins/datasources/influx/src/metrics/designer/query/query.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/designer.html","../../../../app/plugins/datasources/influx/src/metrics/designer/designer.ts","../../../../app/plugins/datasources/influx/src/influx.mod.ts","../../../../app/plugins/datasources/influx/src/public-api.ts","../../../../app/plugins/datasources/influx/src/influx.ts"],"sourcesContent":["<div [formGroup]=\"form\">\r\n\r\n\t<h3 class=\"page-heading\">HTTP</h3>\t\r\n\t<div class=\"gf-form-group\">\r\n\t\t<ed-textbox\r\n\t\t\tlabel=\"URL\"\r\n\t\t\tlabelWidth=\"10\"\r\n\t\t\thint=\"Specify a complete HTTP URL (for example http://your_server:8080)\"\r\n\t\t\tformControlName=\"url\"\t>\r\n\t\t\t<ng-template edValidationTemplate *ngIf=\"url.hasError( 'required' ) && url.touched\">\r\n\t\t\t\tplease enter url\r\n\t\t\t</ng-template>\r\n\t\t</ed-textbox>\r\n\r\n\t\t<ed-textbox\r\n\t\t\tlabel=\"Whitelisted Cookies\"\r\n\t\t\tlabelWidth=\"10\"\r\n\t\t\tformControlName=\"whitelistedCookies\"\t>\r\n\t\t</ed-textbox>\r\n\r\n\t</div>\r\n\r\n\t<h3 class=\"page-heading\">Auth</h3>\r\n\t<div class=\"gf-form-group\">\r\n\t\t<div class=\"gf-form-inline\">\r\n\t\t\t<ed-checkbox \r\n\t\t\t\tlabelWidth=\"10\"\r\n\t\t\t\tlabel=\"Basic Auth\"\r\n\t\t\t\tformControlName=\"basicAuthentication\">\r\n\t\t\t</ed-checkbox>\r\n\r\n\t\t\t<ed-checkbox \r\n\t\t\t\tlabelWidth=\"10\"\r\n\t\t\t\tlabel=\"With Credentials\"\r\n\t\t\t\thint=\"Whether credentials such as cookies or auth headers should be sent with cross-site requests.\"\r\n\t\t\t\tformControlName=\"withCredentials\">\r\n\t\t\t</ed-checkbox>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"gf-form-inline\">\r\n\t\t\t<ed-checkbox \r\n\t\t\t\tlabelWidth=\"10\"\r\n\t\t\t\tlabel=\"TLS Client Auth\"\r\n\t\t\t\tformControlName=\"tlsClientAuth\">\r\n\t\t\t</ed-checkbox>\r\n\r\n\t\t\t<ed-checkbox \r\n\t\t\t\tlabelWidth=\"10\"\r\n\t\t\t\tlabel=\"With CA Cert\"\r\n\t\t\t\thint=\"Needed for verifing self-signed TLS Certs\"\r\n\t\t\t\tformControlName=\"withCaCert\">\r\n\t\t\t</ed-checkbox>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"gf-form-inline\">\r\n\t\t\t<ed-checkbox \r\n\t\t\t\tlabelWidth=\"10\"\r\n\t\t\t\tlabel=\"Skip TLS Verify\"\r\n\t\t\t\tformControlName=\"skipTlsVerification\">\r\n\t\t\t</ed-checkbox>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n\r\n\t<h3 class=\"page-heading\">InfluxDB Details</h3>\r\n\r\n\t<div class=\"gf-form-group\">\r\n\t\t<ed-textbox \r\n\t\t\t[label]=\"'Database'\"\r\n\t\t\t[labelWidth]=\"10\"\r\n\t\t\tformControlName=\"database\">\r\n\t\t</ed-textbox>\r\n\r\n\t\t<div class=\"gf-form-inline\">\r\n\t\t\t<ed-textbox \r\n\t\t\t\t[label]=\"'User'\"\r\n\t\t\t\t[labelWidth]=\"10\"\r\n\t\t\t\t[width]=\"5\"\r\n\t\t\t\tformControlName=\"user\">\r\n\t\t\t</ed-textbox>\r\n\r\n\t\t\t<ed-textbox \r\n\t\t\t\t[label]=\"'Password'\"\r\n\t\t\t\t[labelWidth]=\"10\"\r\n\t\t\t\t[width]=\"5\"\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tformControlName=\"password\">\r\n\t\t\t</ed-textbox>\r\n\t\t</div>\r\n\t\r\n\t</div>\r\n\r\n\t<div class=\"gf-form-group\">\r\n\t\t<ed-info-box>\r\n\t\t\t<h5>Database Access</h5>\r\n\t\t\t<p>\r\n\t\t\t\tSetting the database for this datasource does not deny access to other databases.  The InfluxDB query syntax allows\r\n\t\t\t\tswitching the database in the query.  For example:\r\n\t\t\t\t<code>SHOW MEASUREMENTS ON _internal</code> or <code>SELECT * FROM \"_internal\"..\"database\" LIMIT 10</code>\r\n\t\t\t\t<br/><br/>\r\n\t\t\t\tTo support data isolation and security, make sure appropriate permissions are configured in InfluxDB.\r\n\t\t\t</p>\r\n\t\t</ed-info-box>\r\n\t</div>\r\n\r\n\t<div class=\"gf-form-group\">\r\n\t\t<ed-textbox \r\n\t\t\t[label]=\"'Min time interval'\"\r\n\t\t\t[labelWidth]=\"11\"\r\n\t\t\t[width]=\"5\"\r\n\t\t\t[placeholder]=\"'10s'\"\r\n\t\t\thint=\"'A lower limit for the auto group by time interval. Recommended to be set to write frequency,\r\n\t\t\t\tfor example 1m if your data is written every minute.'\"\r\n\t\t\ttype=\"password\"\r\n\t\t\tformControlName=\"minTimeInterval\">\r\n\t\t</ed-textbox>\r\n\t</div>\r\n\r\n\t\r\n</div>","import { Component } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { IDataSourceSettingsEditor } from 'common';\r\n\r\n@Component({\r\n  selector: 'ds-settings-editor',\r\n  templateUrl: './settings.html'\r\n})\r\nexport class InfluxSettingsEditorComponent implements IDataSourceSettingsEditor {\r\n\tform: FormGroup;\r\n\r\n\tget url(){\r\n\t\treturn this.form.get('url');\r\n\t}\r\n\t\r\n\tconstructor(){\r\n\t\tthis.form = new FormGroup({\r\n\t\t\t'url': new FormControl( null, Validators.required ),\r\n\t\t\t'whitelistedCookies': new FormControl( null ),\r\n\r\n\t\t\t'basicAuthentication': new FormControl( false ),\r\n\t\t\t'withCredentials': new FormControl( false ),\r\n\t\t\t'tlsClientAuth': new FormControl( false ),\r\n\t\t\t'withCaCert': new FormControl( false ),\r\n\t\t\t'skipTlsVerification': new FormControl( false ),\r\n\t\t\t\r\n\t\t\t'database': new FormControl( null, Validators.required ),\r\n\t\t\t'user': new FormControl( null ),\r\n\t\t\t'password': new FormControl( null ),\r\n\t\t\t'minTimeInterval': new FormControl( null )\r\n\t\t});\r\n\t}\r\n}","import {MetricQuery} from \"common\";\n\nexport class InfluxQuery implements MetricQuery {\n  measurement: string;\n  policy: string;\n  refId: string;\n  tags = new Array<Tag>();\n\tfields = new Array<Field>();\n\t\n\tlimit: number;\n\tslimit: number;\n\n\torder = OrderByTime.Asc;\n\talias: string;\n\n  groupBy = new Array<GroupByObject>();\n  \n  hidden: boolean;\n}\n\nexport class Field {\n  key: string;\n  functions: FuncObject[];\n}\n\nexport class FuncObject {\n  name: string;\n  param?: any;\n}\n\nexport enum AggrFunc {\n  Count = 'count',\n  Distinct = 'distinct',\n  Integral = 'integral',\n  Mean = 'mean',\n  Median = 'median',\n  Mode = 'mode',\n  Sum = 'sum',\n\n  Bottom = 'bottom',\n  First = 'first',\n  Last = 'last',\n  Max = 'max',\n  Min = 'min',\n  Percentile = 'percentile',\n  Top = 'top',\n\n  Derivative = 'derivative',\n  Spread = 'spread',\n  NonNegativeDerivative = 'non_negative_derivative',\n  Difference = 'difference',\n  NonNegativeDifference = 'non_negative_difference',\n  MovingAverage = 'moving_average',\n  CumulativeSum = 'cumulative_sum',\n  Stddev = 'stddev',\n  Elapsed = 'elapsed',\n\n  HoltWinters = 'holt_winters',\n  HoltWintersWithFit = 'holt_winters_with_fit',\n\n  Math = 'math',\n  Alias = 'alias',\n}\n\nexport enum AggrFuncGroup {\n  Aggregations,\n  Selectors,\n  Transformations,\n  Predictors,\n  Math,\n  Alias\n}\n\n\nexport class AggrFuncHelper {\n  static getGroup(f: AggrFunc|string) {\n    switch (f) {\n      case AggrFunc.Count:\n      case AggrFunc.Distinct:\n      case AggrFunc.Integral:\n      case AggrFunc.Mean:\n      case AggrFunc.Median:\n      case AggrFunc.Mode:\n      case AggrFunc.Sum:\n        return AggrFuncGroup.Aggregations;\n\n      case AggrFunc.Bottom:\n      case AggrFunc.First:\n      case AggrFunc.Last:\n      case AggrFunc.Max:\n      case AggrFunc.Min:\n      case AggrFunc.Percentile:\n      case AggrFunc.Top:\n        return AggrFuncGroup.Selectors;\n\n      case AggrFunc.Derivative:\n      case AggrFunc.Spread:\n      case AggrFunc.NonNegativeDerivative:\n      case AggrFunc.Difference:\n      case AggrFunc.NonNegativeDifference:\n      case AggrFunc.MovingAverage:\n      case AggrFunc.CumulativeSum:\n      case AggrFunc.Stddev:\n      case AggrFunc.Elapsed:\n        return AggrFuncGroup.Transformations;\n\n      case AggrFunc.HoltWinters:\n      case AggrFunc.HoltWintersWithFit:\n        return AggrFuncGroup.Predictors;\n\n      case AggrFunc.Math:\n        return AggrFuncGroup.Math;\n\n      case AggrFunc.Alias:\n        return AggrFuncGroup.Alias;\n\n    }\n  }\n}\n\nexport class GroupByObject{\n\n\tconstructor( public type, public params = [] ){}\n}\n\nexport enum GroupByOption{\n\tTime,\n\tFill,\n\tTag\n}\n\nexport enum GroupByTimeOptions{\n  Dynamic = '$__interval',\n  S1 = '1s',\n  S10 = '10s',\n  M1 = '1m',\n  M5 = '5m',\n  M10 = '10m',\n  M15 = '15m',\n  H1 = '1h',\n}\n\nexport enum GroupByFillOptions{\n\tNone = 'none',\n\tNull = 'null',\n\tZero = '0',\n\tPrev = 'previous',\n\tLinear = 'linear'\n}\n\nexport enum OrderByTime{\n\tAsc = \"asc\",\n\tDesc = \"desc\"\n}\n\nexport class MetricVars{\n\tstatic readonly TIME_FILTER = \"$timeFilter\";\n\tstatic readonly TIME_INTERVAL = \"$__interval\";\n}\n\nexport class Tag{\n  key: string = '';\n  value: string = '';\n  operator: TagOperator = TagOperator.Eq;\n  condition: TagCondition = TagCondition.And\n}\n\nexport enum TagOperator{\n  Eq = '=',\n  Neq = '<>',\n  Less = '<',\n  Greater = '>',\n  RegExEq = '=~',\n  RegExNeq = '!~'\n}\n\nexport enum TagCondition{\n  And = 'AND',\n  Or = 'OR'\n}\n\n\n","import { Component } from '@angular/core';\nimport { TimeRange, TimeRangeParser, TimeRangeStore,\n  Timezone, MetricsBuilder, Metrics } from 'common';\nimport { AggrFuncGroup, AggrFuncHelper,\n\tField, OrderByTime, GroupByOption, MetricVars, InfluxQuery } from './metrics.m';\nimport * as _ from 'lodash';\nimport { Observable, of } from 'rxjs';\n\n@Component({\n\tselector: 'metrics-builder',\n\ttemplate: ''\n})\nexport class InfluxMetricsBuilder implements MetricsBuilder {\n\n\tconstructor( private time: TimeRangeStore = undefined/* for timezone */ ){\n\t\t\n  }\n\n\tbuild( metrics: Metrics, range?: TimeRange ) : Observable<string> {\n\t\tconst array = [];\n\n\t\tmetrics\n      .targets\n      .filter( x => !(<InfluxQuery>x).hidden )\n\t\t\t.forEach(t => {\n\t\t\t\tconst gen = new Builder( this.time, t, range );\n\n\t\t\t\tif (!gen.invalid && !(<any>t).virgin) {\n\t\t\t\t\tarray.push(gen.text);\n\t\t\t\t}\n\t\t\t});\n\n\t\tlet request = array.join(';');\n\n\t\treturn of( request );\n\t}\n}\n\nclass Builder{\n\tget invalid(){\n    const invalidQuery = \n      (!this.target) ||\n      (!this.target.fields || 0 === this.target.fields.length );\n\n    return invalidQuery;\n\t}\n\t\n\tget text() {\n    return `SELECT ${this.getFieldsText()} FROM ${this.getMeasurementText()}`\n  }\n\n\tconstructor( \n\t\tprivate time: TimeRangeStore,\n\t\tprivate target: any,\n\t\tprivate range?: TimeRange ){\n\n\t}\n\n\tgetFieldsText() {\n\t\tlet result = '';\n\t\t\n    if (!this.target.fields) {\n      return result;\n    }\n\n    this.target.fields.forEach(x => {\n      if (result.length > 0) {\n        result += ', ';\n      }\n\n      result += this.getFieldText( x );\n    })\n\n    return result;\n\t}\n\t\n\t\n  getFieldText(field: Field) {\n\t\t let result = '';\n    let key = (!field.key) ? 'field' : field.key;\n\n    const aggr = field.functions.find(x =>\n      AggrFuncHelper.getGroup(x.name) == AggrFuncGroup.Aggregations ||\n      AggrFuncHelper.getGroup(x.name) == AggrFuncGroup.Selectors);\n\n    if (aggr) {\n      result += aggr.name + ((aggr.param && aggr.param.value) ?\n        `(\"${key}\", ${aggr.param.value})` : `(\"${key}\")`);\n    } else {\n      result = `\"${key}\"`;\n    }\n\n    const trans = field.functions.filter(x =>\n      AggrFuncHelper.getGroup(x.name) === AggrFuncGroup.Transformations);\n\n    trans.forEach(x => {\n      const p = (x.param && x.param.value) ? `, ${x.param.value}` : ``;\n      result = `${x.name}(${result}${p})`;\n    })\n\n    const math = field.functions.find(x =>\n      AggrFuncHelper.getGroup(x.name) === AggrFuncGroup.Math);\n\n    if (math) {\n      result = `${result} ${math.param.value}`;\n    }\n\n    const alias = field.functions.find(x =>\n      AggrFuncHelper.getGroup(x.name) === AggrFuncGroup.Alias);\n\n    if (alias) {\n      result = `${result} AS \"${alias.param.value}\"`;\n    }\n\n\t\treturn result;\n\t}\n\t\n  getMeasurementText() {\n    const meas = (!this.target.measurement) ? 'measurement' : this.target.measurement;\n\n    let rp = (this.target.policy && this.target.policy.length > 0 && this.target.policy !== 'default') ?\n      `\"${this.target.policy}\".` : '';\n\n    let root = `${rp}\"${meas}\"`;\n    let cond = '';\n\n    let tagIndex = 0;\n\n    if (this.target.tags) {\n      this\n        .target\n        .tags\n        .filter(x => x.key && x.value)\n        .forEach(x => {\n          if (tagIndex > 0) {\n            cond += ` ${x.condition} `;\n          }\n\n          const value = isRegex( x.value ) ? x.value : `'${x.value}'`;\n          cond += ` \"${x.key}\" ${x.operator} ${value}`;\n          ++tagIndex;\n        });\n    }\n\n    const timeFilter = ( this.range ) ?\n      this.getTimeFilter() : MetricVars.TIME_FILTER;\n\n    if (cond.length > 0) {\n      root = `${root} WHERE (${cond}) and ${timeFilter}`\n    }\n    else{\n      // TODO\n      root = `${root} WHERE ${timeFilter}`\n\t\t}\n\n\t\tconst groupBy = this.target.groupBy;\n\t\tconst groupByTime = groupBy.find( x => x.type == GroupByOption.Time );\n\t\tconst groupByFill = groupBy.find( x => x.type == GroupByOption.Fill );\n    const groupByTag = groupBy.filter( x => x.type == GroupByOption.Tag );\n    \n    //console.log( groupBy );\n\n\t\tif( groupByTime ){\n      const gb = ( this.range && groupByTime.params[ 0 ] == MetricVars.TIME_INTERVAL ) ?\n        this.getOptimalAutoGroupBy() : groupByTime.params[ 0 ];\n        \n\t\t\troot = `${root} GROUP BY time(${gb})`\n\t\t}\n\n\t\tif( groupByTag.length > 0 ){\n\t\t\troot = ( !groupByTime ) ? `${root} GROUP BY` : `${root},`; \n\n\t\t\tgroupByTag.forEach( (e,index) => {\n\t\t\t\troot = `${root}${index >0 ? ', ' : ' '} \"${e.params[ 0 ]}\"`\n\t\t\t} )\n\t\t}\n\t\t\n\t\tif( groupByFill ){\n\t\t\troot = `${root} FILL(${groupByFill.params[ 0 ]})`\n\t\t}\n\n\t\tif( this.target.order != OrderByTime.Asc ){\n\t\t\troot = `${root} ORDER BY time DESC`; \n\t\t}\n\t\t\n\t\tif( this.target.limit > 0 ){\n\t\t\troot = `${root} LIMIT ${this.target.limit}`;\n\t\t}\n\n\t\tif( this.target.slimit > 0 ){\n\t\t\troot = `${root} SLIMIT ${this.target.slimit}`;\n\t\t}\n\n    return root;\n\t}\n\t\n  getOptimalAutoGroupBy() : string {\n    const f = TimeRangeParser.toDateTime( this.range.from, false );\n    const t = TimeRangeParser.toDateTime( this.range.to, true );\n\n\t\tif (5 > +t.diff( f, \"minutes\" ))\n\t\t\treturn \"200ms\";\n\n\t\tif (15 > +t.diff( f, \"minutes\" ))\n\t\t\treturn \"1s\";\n\n\t\tif (30 > t.diff( f, \"minutes\" ))\n\t\t\treturn \"2s\";\n\n\t\tif (1 > t.diff( f, \"hours\" ))\n\t\t\treturn \"5s\";\t\t\n\n\t\tif (3 > t.diff( f, \"hours\" ))\n\t\t\treturn \"10s\";\t\t\n\n\t\tif (6 > t.diff( f, \"hours\" ))\n\t\t\treturn \"20s\";\t\t\n\n\t\tif (12 > t.diff( f, \"hours\" ))\n\t\t\treturn \"1m\";\t\t\n\n\t\tif (24 > t.diff( f, \"hours\" ))\n\t\t\treturn \"2m\";\t\t\n\n\t\tif (7 > t.diff( f, \"days\" ))\n\t\t\treturn \"10m\";\t\t\n\n\t\tif (31 > t.diff( f, \"days\" ))\n\t\t\treturn \"1h\";\t\t\n\n\t\tif (365 > t.diff( f, \"days\" ))\n\t\t\treturn \"12h\";\t\t\n\n\t\t return \"24h\";\n\t}\n\n  getTimeFilter() {\n    const range = this.range;\n    const tz = this.time.converter.timezone; //this.range.timezone;\n\n    let from = this.getInfluxTime( range.from, false, tz);\n    let to = this.getInfluxTime( range.to, true, tz);\n\n    const fromIsAbsolute = from[from.length - 1] === 'ms';\n\n    if (to === 'now()' && !fromIsAbsolute) {\n      return 'time >= ' + from;\n    }\n\n    return 'time >= ' + from + ' and time <= ' + to;\n\t}\n\t\n  getInfluxTime(date: any, roundUp: any, timezone: Timezone) {\n    if (_.isString(date)) {\n      if (date === 'now') {\n        return 'now()';\n      }\n\n      const parts = /^now-(\\d+)([dhms])$/.exec(date);\n\n      if (parts) {\n        const amount = parseInt(parts[1], 10);\n        const unit = parts[2];\n        return 'now() - ' + amount + unit;\n      }\n\n      date = TimeRangeParser.toDateTime(date, roundUp, timezone);\n    }\n\n    return date.valueOf() + 'ms';\n  }\n\n}\n\nexport function isRegex(expr) {\n  let isValid = true;\n  try {\n    new RegExp(expr);\n\n    isValid = ( expr.startsWith( '/' ) && expr.endsWith( '/' )  )\n  } catch (e) {\n    isValid = false;\n  }\n\n  return isValid;\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Directive, EventEmitter, Inject, Input, Output } from '@angular/core';\r\nimport { DataSourceService, Panel, PANEL_TOKEN, Series, Metrics } from 'common';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { InfluxMetricsBuilder } from '../../builder';\r\n\r\nimport { InfluxQuery, Tag, Field, GroupByObject } from '../../metrics.m';\r\n\r\n@Directive()\r\nexport class BaseQueryComponent {\r\n  readonly REMOVE = '--remove--';\r\n\treadonly ADD = '--add--';\r\n  \r\n  @Input() query : InfluxQuery;\r\n  @Output() change = new EventEmitter();\r\n  @Output() rebuild = new EventEmitter();\r\n  queryAsString: string;\r\n\r\n  get metrics(): Metrics{\r\n    return this\r\n      .panel\r\n      .widget\r\n      .metrics;\r\n  }\r\n\r\n  get dataSourceId(): number{\r\n    return this.metrics.dataSource;\r\n  }\r\n\r\n  get fields(): Field[]{\r\n    return this.query.fields;\r\n  }\r\n\r\n  get groupBy(): GroupByObject[]{\r\n    return this.query.groupBy;\r\n  }\r\n\r\n  constructor(\r\n    @Inject( PANEL_TOKEN ) public panel: Panel,\r\n    public dsService: DataSourceService){\r\n  }\r\n\r\n  proxy( command: string ) : Observable<Series[] > {\r\n    return this\r\n      .dsService\r\n      .proxy( this.dataSourceId, command)\r\n  }\r\n\r\n  needRebuild(){\r\n    this.rebuild.emit();\r\n  }\r\n\r\n  build( fireRebuild: boolean = true ){\r\n    new InfluxMetricsBuilder()\r\n      .build( {targets: [this.query], dataSource: 0 }  )\r\n      .subscribe( x =>{\r\n        this.queryAsString = x\r\n\r\n        if( fireRebuild ){\r\n          this.onRebuild();\r\n        }\r\n      });\r\n  }\r\n\r\n  onRebuild(){\r\n\r\n  }\r\n}","<div class=\"gf-form-inline\">\r\n\r\n\t<div class=\"gf-form\"  >\r\n\t\t<label class=\"gf-form-label  query-keyword width-7\" >\r\n\t\t\tFROM\r\n\t\t</label>\r\n\t</div>\r\n\r\n\t<ed-autocomplete-picker \r\n\t\t[(ngModel)]=\"query.policy\"\r\n\t\t[request]=\"retentionPolicies$\"\r\n\t\t(pick)=\"needRebuild()\" >\r\n\t</ed-autocomplete-picker>\r\n\t\r\n\t<ed-autocomplete-picker \r\n\t\tplaceholder=\"select measurement\"\r\n\t\t[(ngModel)]='query.measurement'\r\n\t\t[request]=\"measurements$\"\r\n\t\t(pick)=\"needRebuild()\">\r\n\t</ed-autocomplete-picker>\r\n\r\n\t<div class=\"gf-form\"  >\r\n\t\t<label class=\"gf-form-label query-keyword\" >\r\n\t\t\tWHERE\r\n\t\t</label>\r\n\t</div>\r\n\r\n\t<ng-container *ngFor=\"let t of query.tags;let i = index\" >\r\n\r\n\t\t<ed-autocomplete-picker \r\n\t\t\t[hidden]=\"!(i > 0 && t.key)\"\r\n\t\t\t[(ngModel)]=\"t.condition\"\r\n\t\t\t[request]=\"conditions$\" \r\n\t\t\tvalueClass=\"query-keyword\"\r\n\t\t\t(pick)=\"needRebuild()\">\r\n\t\t</ed-autocomplete-picker>\r\n\r\n\t\t<ed-autocomplete-picker\r\n\t\t\t[(ngModel)]=\"t.key\"\r\n\t\t\t[request]=\"tagEditKeys$\"\r\n\t\t\t(pick)=\"onTagKeyEditPick( $event, t );needRebuild()\">\r\n\t\t</ed-autocomplete-picker>\r\n\r\n\t\t<ed-autocomplete-picker \r\n\t\t\t[(ngModel)]=\"t.operator\"\r\n\t\t\t[request]=\"tagOperators$( t )\"\r\n\t\t\tvalueClass=\"query-segment-operator\"\r\n\t\t\t(pick)=\"needRebuild()\">\r\n\t\t</ed-autocomplete-picker>\r\n\r\n    <ed-autocomplete-picker \r\n      placeholder=\"select tag value\" \r\n      [value]='t.value'\r\n\t\t\t[request]=\"tagValues$( t )\"\r\n\t\t\t[forceSelection]=\"false\"\r\n\t\t\t(pick)=\"onTagValuePick( t, $event );\" >\r\n\t\t</ed-autocomplete-picker>\r\n\r\n\t</ng-container>\r\n\r\n\t<ed-autocomplete-picker *ngIf=\"canAddTag\"\r\n\t\tplaceholder=\"fa fa-plus\" \r\n\t\t[request]=\"tagAddKeys$\"\r\n\t\t[readonly]=\"true\"\r\n\t\t(pick)=\"onTagAddKeyPick( $event );\">\r\n\t</ed-autocomplete-picker>\r\n\r\n\t<div class=\"gf-form gf-form--grow\">\r\n\t\t<div class=\"gf-form-label gf-form-label--grow\"></div>\r\n\t</div>\r\n</div>","import { Component, Inject } from '@angular/core';\r\nimport { DataSourceService, Panel, PANEL_TOKEN } from 'common';\r\nimport { of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { isRegex } from '../../../builder';\r\nimport { Tag, TagCondition, TagOperator } from '../../../metrics.m';\r\nimport { BaseQueryComponent } from '../query-base';\r\n\r\n@Component({\r\n  selector: 'measurement-editor',\r\n  templateUrl: './measurement.html'\r\n})\r\nexport class MeasurementEditorComponent extends BaseQueryComponent  {\r\n\r\n  readonly DEFAULT_POLICY = 'default';\r\n\r\n  get retentionPolicies$() {\r\n    return this\r\n      .proxy( `SHOW RETENTION POLICIES`)\r\n      .pipe(\r\n        map(x => ['default', ...x[0].values.map(y => y[0])]));\r\n  }\r\n\r\n  get measurements$() {\r\n    return this\r\n      .proxy( `SHOW MEASUREMENTS`)\r\n      .pipe(\r\n        map(x => [...x[0].values].reduce((acc, value) => acc.concat(value), [])))\r\n  }\r\n\r\n  tagOperators$( tag:Tag ) {\r\n    const isRegexValue = isRegex( tag.value );\r\n    const allOperators = Object.values(TagOperator);\r\n\r\n    let result = isRegexValue ? allOperators.slice( 4, 6 ) : allOperators.slice( 0, 4 )\r\n\r\n    return of( result );\r\n  }\r\n\r\n  get tagAddKeys$() {\r\n    const q = (this.query.measurement) ?\r\n      `SHOW TAG KEYS from ${this.query.measurement}` :\r\n      `SHOW TAG KEYS`;\r\n\r\n    return this\r\n      .proxy( q )\r\n      .pipe(\r\n        map(x => (!x.length) ? [] : [...x[0].values.reduce((acc, value) => acc.concat(value), [])]));\r\n  }\r\n\r\n  get tagEditKeys$() {\r\n    return this\r\n      .tagAddKeys$\r\n      .pipe( \r\n        map( x => [this.REMOVE, ...x ] ));\r\n  }\r\n\r\n  tagValues$( tag: Tag ) {\r\n    const q = `SHOW TAG VALUES WITH KEY=${tag.key}`;\r\n\r\n    return this\r\n      .proxy( q )\r\n      .pipe(\r\n        map(x => x[0]?.values.map(y => y[1])));\r\n  }\r\n\r\n  get conditions$() {\r\n    return of(Object.values(TagCondition));\r\n  }\r\n\r\n  get canAddTag(){\r\n    const tags = this.query.tags;\r\n    return ( !tags?.length ) || ( tags[ tags.length - 1 ] ).value;\r\n  }\r\n\r\n  constructor( \r\n    @Inject( PANEL_TOKEN ) panel: Panel,\r\n    public dsService: DataSourceService ){\r\n      super( panel, dsService );\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (!this.query.policy) {\r\n      this.query.policy = this.DEFAULT_POLICY;\r\n    }\r\n  }\r\n \r\n  onTagAddKeyPick( k: string ) {\r\n    var tag = new Tag();\r\n    tag.key = k;\r\n    this.query.tags.push( tag );\r\n  }\r\n\r\n  onTagKeyEditPick( k: string, t: Tag ) {\r\n    if( k == this.REMOVE ){\r\n      this.query.tags = this.query.tags.filter( x => x != t );\r\n    }\r\n  }\r\n\r\n  onTagValuePick(t: Tag, v: string) {\r\n    if( v === t.value ){\r\n      return;\r\n    }\r\n\r\n    let oldValueIsRegEx = isRegex( t.value );\r\n    t.value = v;\r\n    let newValueIsRegEx = isRegex( t.value );\r\n\r\n    const regExChanged = ( oldValueIsRegEx != newValueIsRegEx );\r\n\r\n    if( regExChanged ){\r\n      t.operator = ( newValueIsRegEx ) ? TagOperator.RegExEq : TagOperator.Eq;\r\n    } \r\n\r\n    this.needRebuild()\r\n  }\r\n}","import { AggrFunc, AggrFuncGroup } from '../../../../../metrics.m';\r\n\r\nconst timeSuggestions = ['1s', '10s', '1m', '5m', '10m', '15m', '1h']\r\n\r\nexport const menuItems: any[] = [\r\n  { label: AggrFuncGroup[ 0 ], items: [ \r\n     { label: AggrFunc.Count },\r\n     { label: AggrFunc.Distinct },\r\n     { label: AggrFunc.Integral },\r\n     { label: AggrFunc.Mean },\r\n     { label: AggrFunc.Median },\r\n     { label: AggrFunc.Mode },\r\n     { label: AggrFunc.Sum },\r\n     ] },\r\n  { label: AggrFuncGroup[ 1 ], items: [ \r\n    { label: AggrFunc.Bottom, param: { value: '3' } },\r\n    { label: AggrFunc.First },\r\n    { label: AggrFunc.Last },\r\n    { label: AggrFunc.Max },\r\n    { label: AggrFunc.Min },\r\n    { label: AggrFunc.Percentile, param: { value: '95' }  },\r\n    { label: AggrFunc.Top, param: { value: '3' } },\r\n    ] },\r\n  { label: AggrFuncGroup[ 2 ], items: [ \r\n    { label: AggrFunc.Derivative,\r\n      param: { value: timeSuggestions[ 1 ], suggestions: [...timeSuggestions] } },\r\n    { label: AggrFunc.Spread  },\r\n    { label: AggrFunc.NonNegativeDerivative,\r\n       param: { value: timeSuggestions[ 1 ], suggestions: [...timeSuggestions] } },\r\n    { label: AggrFunc.Difference },\r\n    { label: AggrFunc.NonNegativeDifference },\r\n    { label: AggrFunc.MovingAverage, param: { value: '10', suggestions: ['5', '10', '20', '30', '40'] } },\r\n    { label: AggrFunc.CumulativeSum },\r\n    { label: AggrFunc.Stddev },\r\n    { label: AggrFunc.Elapsed, \r\n      param: { value: timeSuggestions[ 1 ], suggestions: [...timeSuggestions] } },\r\n    ] },\r\n//  { label: AggrFuncGroup[ 3 ], items: [ \r\n//     { label: AggrFunc.HoltWinters },\r\n//     { label: AggrFunc.HoltWintersWithFit }\r\n//     ] },\r\n  { label: AggrFuncGroup[ 4 ], items: [\r\n    { label: AggrFunc.Math, param: { value: ' / 100' } }\r\n  ]  },\r\n  { label: AggrFuncGroup[ 5 ], items: [\r\n    { label: AggrFunc.Alias, param: { value: 'alias' } }\r\n  ]  },\r\n  { label: 'Field', items: [ { label: 'field' }] }\r\n];\r\n","import { Component, EventEmitter, Output } from '@angular/core';\r\nimport { menuItems } from './func-items';\r\nimport * as _ from 'lodash';\r\nimport { ContextMenuComponent } from 'uilib';\r\n\r\n@Component({\r\n  selector: 'field-function-picker',\r\n  template: `\r\n    <div class=\"gf-form\" >\r\n      <a class=\"gf-form-label pointer\" (click)=\"cm.show( $event )\" >\r\n        <i class=\"fa fa-plus\" ></i>\r\n      </a>\r\n    </div>\r\n\r\n    <ed-context-menu [items]=\"items\" #cm></ed-context-menu>\r\n  `\r\n})\r\nexport class FieldFunctionPickerComponent   {\r\n  items =\t_.cloneDeep( menuItems ); \r\n\r\n  @Output() pick = new EventEmitter<any>();\r\n\r\n  ngOnInit(){\r\n    ContextMenuComponent.wrapItems( this.items, x => this.pick.emit( x.item ) )\r\n  }\r\n}","<div class=\"gf-form\">\r\n\t<label class=\"gf-form-label\">\r\n\t\t<a (click)=\"cmRemove.show( $event )\" class=\"pointer\">{{func.name}} (</a>\r\n\r\n\t\t<a *ngIf=\"param\">\r\n\t\t\t<span [hidden]=\"isEditorVisible\" (click)=\"onShowEditor( $event )\">{{paramValue}}</span>\r\n\t\t</a>\r\n\r\n\t\t<input *ngIf=\"isEditorVisible\" type=\"text\"\r\n\t\t\tclass=\"ff__editor \"\r\n\t\t\t[ngStyle]=\"{width: ((textValue.length + 1) * 8) + 'px' }\"\r\n\t\t\t[(ngModel)]=\"textValue\"\r\n\t\t\t(focusout)=\"onEditorFocusOut()\"\r\n\t\t\t(keydown)=\"onEditorKeyDown()\"\r\n\t\t\t(keyup.enter)=\"onEditorKeyUpEnter()\"\r\n\t\t\t(keyup.escape)=\"onEditorKeyUpEnter()\"\r\n\t\t\tspellcheck=\"false\" \r\n\t\t\t#editor >\r\n\r\n\t\t<a (click)=\"onShowEditor( $event )\">)</a>\r\n\t</label>\r\n</div>\r\n\r\n<ed-context-menu [items]=\"[deleteMenuItem]\" #cmRemove ></ed-context-menu>\r\n\r\n<ed-context-menu [items]=\"suggestionItems\" #suggestions ></ed-context-menu>","import { Component, ElementRef, EventEmitter,\r\n  Input, Output, ViewChild } from '@angular/core';\r\nimport { ContextMenuComponent } from 'uilib';\r\nimport { FuncObject } from '../../../../../metrics.m';\r\n\r\n@Component({\r\n  selector: 'field-function-editor',\r\n  templateUrl: './func-editor.html',\r\n  styleUrls: ['./func-editor.scss']\r\n})\r\nexport class FieldFunctionEditorComponent   {\r\n\r\n  @Input() func: FuncObject;\r\n  @Output() remove = new EventEmitter();\r\n  @Output() rebuild = new EventEmitter();\r\n\r\n  textValue: string;\r\n\r\n  isEditorVisible = false;\r\n  isSuggestionsMenuOpen = false;\r\n  suggestionItems = [];\r\n  deleteMenuItem = { label: 'Remove', command: _ => this.remove.emit()}\r\n\r\n  @ViewChild('editor') editorElement: ElementRef;\r\n  @ViewChild(\"suggestions\") suggestions: ContextMenuComponent;\r\n\r\n  get param(){\r\n    return this.func.param;\r\n  }\r\n\r\n  get paramValue(){\r\n    return this.param.value\r\n  }\r\n\r\n  get hasSuggestions(){\r\n    return ( this.param && this.param.suggestions );\r\n  }\r\n\r\n  ngOnInit(){\r\n    if( this.param ){\r\n      this.textValue = this.paramValue;\r\n    }\r\n    \r\n    if( this.hasSuggestions ){\r\n      this\r\n        .param\r\n        .suggestions\r\n        .forEach(e => this.suggestionItems.push({\r\n          label: e,\r\n          command: (x) => {\r\n\r\n            const same = this.paramValue == x.item.label;\r\n\r\n            if( !same ){\r\n              this.param.value = this.textValue = x.item.label;\r\n              this.isEditorVisible = false;\r\n              this.rebuild.emit()\r\n            }\r\n          }\r\n         }));\r\n    }\r\n  }\r\n\r\n  onShowEditor(e){\r\n    if( !this.param ){\r\n      return;\r\n    }\r\n\r\n    if (this.hasSuggestions) {\r\n      this.isSuggestionsMenuOpen = true;\r\n      this.suggestions.show(e);\r\n    }\r\n\r\n    setTimeout(() => { \r\n      this.isEditorVisible = true;\r\n\r\n      setTimeout( () => this.editorElement.nativeElement.focus(), 0 )\r\n    }, 0);\r\n  }\r\n\r\n  onEditorFocusOut(){\r\n    if( !this.isSuggestionsMenuOpen ){\r\n      this.isEditorVisible = false;\r\n\r\n      const same = this.paramValue == this.textValue;\r\n\r\n      if( !same ){\r\n        this.param.value = this.textValue\r\n        this.rebuild.emit()\r\n      }\r\n    }\r\n  }\r\n\r\n  onEditorKeyDown(){\r\n    this.isSuggestionsMenuOpen = false;\r\n    this.suggestions.hide()\r\n  }\r\n\r\n  onEditorKeyUpEnter(){\r\n    this.isEditorVisible = false;\r\n\r\n    const same = this.paramValue == this.textValue;\r\n\r\n    if( !same ){\r\n      this.param.value = this.textValue\r\n      this.rebuild.emit()\r\n    }\r\n  }\r\n\r\n\r\n}","<div class=\"gf-form-inline\">\r\n\r\n\t<div class=\"gf-form\">\r\n\t\t<label class=\"gf-form-label query-keyword width-7\">\r\n\t\t\t<span *ngIf=\"index === 0\">SELECT</span>&nbsp;\r\n\t\t</label>\r\n\t</div>\r\n\r\n\t<ed-autocomplete-picker \r\n\t\t[(ngModel)]=\"field.key\"\r\n\t\tplaceholder=\"field(value)\" \r\n\t\tformatString=\"field({0})\" \r\n\t\t[request]=\"fields$\"\r\n\t\t(pick)=\"onFieldPick($event);needRebuild()\">\r\n\t</ed-autocomplete-picker>\r\n\r\n\t<field-function-editor *ngFor=\"let f of field.functions\"\r\n\t\t[func] =\"f\" \r\n\t\t(remove)=\"onFuncRemove( f ); needRebuild()\"\r\n\t\t(rebuild)=\"needRebuild()\">\r\n\t</field-function-editor>\r\n\r\n\t<field-function-picker (pick)=\"onFuncPick($event); needRebuild()\" ></field-function-picker>\r\n\r\n\t<div class=\"gf-form gf-form--grow\">\r\n\t\t<div class=\"gf-form-label gf-form-label--grow\"></div>\r\n\t</div>\r\n\t\r\n</div>\r\n","import { Component, EventEmitter, Inject, Input, Output } from '@angular/core';\r\nimport { DataSourceService, Panel, PANEL_TOKEN } from 'common';\r\nimport { map } from 'rxjs/operators';\r\nimport { AggrFuncGroup, AggrFuncHelper, FuncObject } from '../../../metrics.m';\r\nimport { BaseQueryComponent } from '../query-base';\r\nimport * as _ from 'lodash';\r\nimport { menuItems } from './func/picker/func-items';\r\n\r\n@Component({\r\n  selector: 'field-editor',\r\n  templateUrl: './field.html'\r\n})\r\nexport class FieldEditorComponent extends BaseQueryComponent  {\r\n\r\n  index: number;\r\n  fieldFuncItems = menuItems; \r\n\r\n  @Input() field: any;\r\n\r\n  @Output() remove = new EventEmitter();\r\n  @Output() add = new EventEmitter();\r\n\r\n  get functions(): FuncObject[]{\r\n    return this.field.functions;\r\n  }\r\n\r\n  constructor( \r\n    @Inject( PANEL_TOKEN ) panel: Panel,\r\n    public dsService: DataSourceService ){\r\n      super( panel, dsService );\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.index = this\r\n      .query\r\n      .fields\r\n      .indexOf( this.field );\r\n\r\n    const flatFieldFuncItems = this\r\n      .fieldFuncItems\r\n      .map( p => p.items )\r\n      .reduce( (a, b) => a.concat(b));\r\n\r\n    this\r\n      .field\r\n      .functions\r\n      .forEach( f => {\r\n        if( f.param ){\r\n          let s = flatFieldFuncItems.find( x => x.text === f.name );\r\n          \r\n          if( s && s.param && s.param.suggestions ){\r\n            f.param.suggestions = [...s.param.suggestions];\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  get fields$() {\r\n    return this\r\n      .proxy(`SHOW FIELD KEYS FROM \\\"${this.query.measurement}\\\"`)\r\n      .pipe(\r\n        map(x => {\r\n          if( !x || 0 == x.length ){\r\n            return null;\r\n          }\r\n\r\n          const fields = [...x[0].values.map(y => y[0])];\r\n          return ( this.query.fields.length > 1 ) ? [ this.REMOVE, ...fields ] : fields;\r\n        } ));\r\n  }\r\n\r\n  onFieldPick( field: string ){\r\n    if( field === this.REMOVE ){\r\n      this.remove.emit();\r\n    } else{\r\n      this.field.key = field; \r\n    }\r\n  }\r\n \r\n  onFuncPick( arg ){\r\n    const fo = new FuncObject();\r\n    fo.name = arg.label;\r\n\r\n    if( arg.label == \"field\" ){\r\n      this.add.emit();\r\n      return;\r\n    }\r\n\r\n    if( arg.param )  {\r\n      fo.param = _.cloneDeep( arg.param );\r\n    }\r\n\r\n    const alias = this.functions.find( x => \r\n      AggrFuncHelper.getGroup( x.name ) ==  AggrFuncGroup.Alias )\r\n\r\n    const math = this.functions.find( x => \r\n      AggrFuncHelper.getGroup( x.name ) == AggrFuncGroup.Math )\r\n\r\n    const len = this.functions.length;\r\n\t\tconst funcs = this.functions\r\n\r\n    switch( AggrFuncHelper.getGroup( arg.label ) ){\r\n      case AggrFuncGroup.Aggregations:\r\n      case AggrFuncGroup.Selectors:\r\n        const duplicate = this\r\n          .field\r\n          .functions\r\n          .find( x => \r\n            AggrFuncHelper.getGroup( x.name ) == AggrFuncGroup.Aggregations ||\r\n            AggrFuncHelper.getGroup( x.name ) == AggrFuncGroup.Selectors );\r\n\r\n        if( duplicate ){\r\n          funcs[ 0 ] = fo;\r\n        } else{\r\n          funcs.splice( 0, 0, fo);\r\n        }\r\n        break;\r\n\r\n        case AggrFuncGroup.Transformations:\r\n          if( !alias ){\r\n            funcs.push( fo );\r\n          } else{\r\n            funcs.splice( len - 1, 0, fo);\r\n          }\r\n          break;\r\n\r\n        case AggrFuncGroup.Math:\r\n          if( math && !alias ){\r\n            funcs[ len -1 ] = fo;\r\n          } else if( !math && alias ) {\r\n            funcs.splice( len - 1, 0, fo);\r\n          } else {\r\n            funcs.push( fo );\r\n          }\r\n          break;\r\n\r\n        case AggrFuncGroup.Alias:\r\n          if( alias ){\r\n            this.functions[ len -1 ] = fo;\r\n          } else {\r\n            this.functions.push( fo );\r\n          }\r\n          break;\r\n    }\r\n  }\r\n\r\n  onFuncRemove( f: FuncObject ){\r\n    const index = this.functions.indexOf( f );\r\n\r\n    if( -1 !== index ){\r\n      this.functions.splice( index, 1 );\r\n    }\r\n  }\r\n}","import { Component, Inject } from '@angular/core';\r\nimport { DataSourceService, Panel, PANEL_TOKEN } from 'common';\r\nimport { AggrFunc, Field, FuncObject } from '../../../metrics.m';\r\nimport { BaseQueryComponent } from '../query-base';\r\n\r\n@Component({\r\n  selector: 'fields-editor',\r\n  template: `\r\n    <field-editor *ngFor=\"let f of query.fields\" \r\n      [query]=\"query\" \r\n      [field]=\"f\"\r\n      (remove)=\"onRemove(f)\"\r\n      (add)=\"onAdd()\"\r\n      (rebuild)=\"needRebuild()\" >\r\n    </field-editor> `\r\n})\r\nexport class FieldsEditorComponent extends BaseQueryComponent  {\r\n\r\n  constructor( \r\n    @Inject( PANEL_TOKEN ) panel: Panel,\r\n    public dsService: DataSourceService ){\r\n      super( panel, dsService );\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (!this.fields?.length) {\r\n      this.query.fields = [this.createEmpyField()];\r\n    }\r\n  }\r\n\r\n  onRemove(f: Field) {\r\n    const fields = this.query.fields;\r\n\r\n    if (1 < fields.length) {\r\n\r\n      const index = fields.indexOf( f );\r\n\r\n      if( -1 !== index ){\r\n        this.query.fields.splice( index, 1 );\r\n      }\r\n    }\r\n  }\r\n\r\n  onAdd() {\r\n    this\r\n      .query\r\n      .fields\r\n      .push(this.createEmpyField());\r\n  }\r\n\r\n  createEmpyField() {\r\n    const def = new FuncObject();\r\n    def.name = AggrFunc.Mean;\r\n\r\n    const field = new Field();\r\n    field.functions = [ def ];\r\n\r\n    return field;\r\n  }\r\n}","import { Component, Input, Output } from '@angular/core';\r\nimport { EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[tag-label]',\r\n\ttemplate: `\r\n\t<span (click)=\"cm.show($event)\" class=\"gf-form-label\">tag({{value}})</span>\r\n\r\n\t<ed-context-menu [items]=\"[deleteMenuItem]\" #cm>`,\r\n})\r\nexport class GroupByTagLabelComponent {\r\n\t@Input()value:string;\r\n\t@Output() removed = new EventEmitter();\r\n\r\n\tdeleteMenuItem = {\r\n\t\tlabel: 'Remove',\r\n\t\tcommand: _ => this.removed.emit( this.value )\r\n\t}\r\n} \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","<div class=\"gf-form-inline\">\r\n  <div class=\"gf-form\">\r\n    <label class=\"gf-form-label query-keyword width-7\">\r\n      <span>GROUP BY</span>\r\n    </label>\r\n  </div>\r\n\r\n  <ed-autocomplete-picker   \r\n    *ngIf=\"time\" \r\n    [(ngModel)]=\"timeValue\"\r\n    formatString=\"time({0})\"\r\n    [request]=\"timeOptions$\">\r\n  </ed-autocomplete-picker >\r\n\r\n  <div *ngFor=\"let t of tags\" [value]=\"t.params[ 0 ]\" tag-label \r\n    class=\"gf-form pointer\" (removed)=\"onRemoveTag( $event )\"\t>\r\n  </div>\r\n\r\n  <ed-autocomplete-picker *ngIf=\"fill\" \r\n    formatString=\"fill({0})\" \r\n    [(ngModel)]=\"fillValue\"\r\n    [request]=\"fillOptions$\" >\r\n  </ed-autocomplete-picker>\r\n\r\n  <ed-autocomplete-picker   \r\n    placeholder=\"fa fa-plus\"\r\n    readonly=\"true\"\r\n    [request]=\"groupByOptions$\"\r\n    (pick)=\"onOptionPick( $event );\">\r\n  </ed-autocomplete-picker>\r\n\r\n  <div class=\"gf-form gf-form--grow\">\r\n    <div class=\"gf-form-label gf-form-label--grow\"></div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"gf-form-inline\" *ngIf=\"query.order == OrderByTimeRef.Desc;\">\r\n  <div class=\"gf-form\">\r\n    <label class=\"gf-form-label query-keyword width-7\">\r\n      ORDER BY\r\n    </label>\r\n\r\n    <label class=\"gf-form-label pointer\" (click)=\"query.order=OrderByTimeRef.Asc; needRebuild()\">\r\n      time <span class=\"query-keyword\">DESC</span> <i class=\"fa fa-remove ml-1\"></i>\r\n    </label>\r\n  </div>\r\n\r\n  <div class=\"gf-form gf-form--grow\">\r\n    <div class=\"gf-form-label gf-form-label--grow\"></div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"gf-form-inline\" *ngIf=\"query.limit\">\r\n  <div class=\"gf-form\">\r\n    <label class=\"gf-form-label query-keyword width-7\">LIMIT</label>\r\n    <input type=\"text\" class=\"gf-form-input width-9\" [(ngModel)]=\"limit\"\r\n      spellcheck='false' placeholder=\"No Limit\" (change)=\"needRebuild()\" >\r\n  </div>\r\n\r\n  <div class=\"gf-form gf-form--grow\">\r\n    <div class=\"gf-form-label gf-form-label--grow\"></div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"gf-form-inline\" *ngIf=\"query.slimit\">\r\n  <div class=\"gf-form\">\r\n    <label class=\"gf-form-label query-keyword width-7\">SLIMIT</label>\r\n    <input type=\"text\" class=\"gf-form-input width-9\" [(ngModel)]=\"slimit\"\r\n      spellcheck='false' placeholder=\"No Limit\" (change)=\"needRebuild()\">\r\n  </div>\r\n\r\n  <div class=\"gf-form gf-form--grow\">\r\n    <div class=\"gf-form-label gf-form-label--grow\"></div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"gf-form-inline\">\r\n  <div class=\"gf-form max-width-30\">\r\n    <label class=\"gf-form-label query-keyword width-7\">ALIAS BY</label>\r\n    <input type=\"text\" class=\"gf-form-input\" [(ngModel)]=\"query.alias\" spellcheck='false'\r\n      placeholder=\"Naming pattern\">\r\n  </div>\r\n  <div class=\"gf-form gf-form--grow\">\r\n    <div class=\"gf-form-label gf-form-label--grow\"></div>\r\n  </div>\r\n</div>\r\n\r\n","import { Component, Inject } from '@angular/core';\r\nimport { DataSourceService, Panel, PANEL_TOKEN } from 'common';\r\nimport { BaseQueryComponent } from '../query-base';\r\nimport * as _ from 'lodash';\r\nimport { GroupByFillOptions, GroupByObject, \r\n  GroupByOption, GroupByTimeOptions, MetricVars, OrderByTime } from '../../../metrics.m';\r\nimport { of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'group-by-editor',\r\n  templateUrl: './group-by.html'\r\n})\r\nexport class GroupByEditorComponent extends BaseQueryComponent  {\r\n\r\n  availableCommands : Array<GroupByCommand>;\r\n  selectedCommands : Array<GroupByCommand>;\r\n  OrderByTimeRef = OrderByTime;\r\n\r\n  get limit() : number {\r\n\t\treturn this.query.limit;\r\n\t}\r\n\r\n\tset limit( l: number ){\r\n    this.query.limit = l;\r\n    \r\n    if( !l ){\r\n      this.needRebuild();\r\n    }\r\n  }\r\n  \r\n  get slimit() : number {\r\n\t\treturn this.query.slimit;\r\n\t}\r\n\r\n\tset slimit( l: number ){\r\n    this.query.slimit = l;\r\n    \r\n    if( !l ){\r\n      this.needRebuild();\r\n    }\r\n\t}\r\n\r\n\tget time() {\r\n\t\treturn this.groupBy.find( x => x.type == GroupByOption.Time );\r\n\t}\r\n\r\n\tget timeValue() {\r\n\t\treturn this.time.params[ 0 ];\r\n  }\r\n  \r\n  set timeValue( v: string ){\r\n    if( v == this.REMOVE ){\r\n      const index = this\r\n        .groupBy\r\n        .findIndex( x=> x.type == GroupByOption.Time );\r\n\r\n      if( -1 !== index ){\r\n        this.groupBy.splice( index, 1 );\r\n      }\r\n\t\t} else{\r\n\t\t\tthis.time.params = [ v ];\r\n    }\r\n    \r\n    this.needRebuild();\r\n  }\r\n\r\n\tget tags() {\r\n\t\treturn this.query.groupBy.filter( x => x.type == GroupByOption.Tag );\r\n\t}\r\n\r\n\tget fill() {\r\n\t\treturn this.groupBy.find( x => x.type == GroupByOption.Fill );\r\n\t}\r\n\r\n\tget fillValue() {\r\n\t\treturn this.fill.params[ 0 ];\r\n\t}\r\n\r\n\tset fillValue( v: string ){\r\n    if( v == this.REMOVE ){\r\n      const index = this\r\n        .groupBy\r\n        .findIndex( x=> x.type == GroupByOption.Fill );\r\n\r\n      if( -1 !== index ){\r\n        this.groupBy.splice( index, 1 );\r\n      }\r\n\t\t} else{\r\n\t\t\tthis.fill.params = [ v ];\r\n    }\r\n    \r\n    this.needRebuild();\r\n  }\r\n  \t\r\n  get timeOptions$() {\r\n    return of( [this.REMOVE, ...Object.values(GroupByTimeOptions)] );\r\n\t}\r\n\r\n\tget fillOptions$(){\r\n\t\treturn of( [this.REMOVE, ...Object.values(GroupByFillOptions)] );\r\n  }\r\n  \r\n  get groupByOptions$(){\r\n\t\tvar options = [];\r\n\r\n\t\tif( !this.fill ){\r\n\t\t\toptions.push( this.availableCommands[ 0 ].text );\r\n\t\t}\r\n\r\n\t\tif( !this.time ){\r\n\t\t\toptions.push( this.availableCommands[ 1 ].text );\r\n\t\t}\r\n\r\n\t\tif( !this.query.limit ){\r\n\t\t\toptions.push( this.availableCommands[ 2 ].text );\r\n\t\t}\r\n\r\n\t\tif( !this.query.slimit ){\r\n\t\t\toptions.push( this.availableCommands[ 3 ].text );\r\n\t\t}\r\n\r\n\t\tif( this.query.order != OrderByTime.Desc ){\r\n\t\t\toptions.push( this.availableCommands[ 4 ].text );\r\n\t\t}\r\n\r\n\t\tconst q = (this.query.measurement) ?\r\n\t\t\t`SHOW TAG KEYS from ${this.query.measurement}` :\r\n\t\t\t`SHOW TAG KEYS`;\r\n\r\n\t\treturn this\r\n\t\t\t.proxy(q)\r\n\t\t\t.pipe(\r\n\t\t\t\tmap(x => {\r\n\t\t\t\t\tconst tags = (!x.length) ?\r\n\t\t\t\t\t\t[] : x[0].values.reduce((acc, value) => acc.concat(value), []);\r\n\r\n\t\t\t\t\tthis.availableCommands = this\r\n\t\t\t\t\t\t.availableCommands\r\n\t\t\t\t\t\t.filter( x => x.type != GroupByCommandType.Tag )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\ttags.forEach( e => this.availableCommands.push( \r\n\t\t\t\t\t\tnew GroupByCommand( GroupByCommandType.Tag, `tag(${e})`, e )));\r\n\r\n\t\t\t\t\tconst tagCommands = this\r\n\t\t\t\t\t\t.availableCommands\r\n\t\t\t\t\t\t.filter( c => c.type == GroupByCommandType.Tag )\r\n\t\t\t\t\t\t.filter( c => !this.query.groupBy.find( x =>\r\n\t\t\t\t\t\t\tx.type == GroupByCommandType.Tag &&\tx.params[ 0 ] == c.value ) )\r\n\t\t\t\t\t\t.map( c => c.text )\r\n\r\n\t\t\t\t\treturn [ ...options, ...tagCommands\t];\r\n\t\t\t\t}))\r\n\r\n\t}\r\n\r\n\r\n  constructor( \r\n    @Inject( PANEL_TOKEN ) panel: Panel,\r\n    public dsService: DataSourceService ){\r\n      super( panel, dsService );\r\n\r\n      this.selectedCommands = [];\r\n\r\n      this.availableCommands = [\r\n        new GroupByCommand( GroupByCommandType.Fill, \"fill(null)\", \"null\" ),\r\n        new GroupByCommand( GroupByCommandType.Time, \"time($interval)\", MetricVars.TIME_INTERVAL ),\r\n        new GroupByCommand( GroupByCommandType.Limit, \"LIMIT\", 10 ),\r\n        new GroupByCommand( GroupByCommandType.SLimit, \"SLIMIT\", 10 ),\r\n\t\t\t\tnew GroupByCommand( GroupByCommandType.OrderBy, \"ORDER BY time DESC\" )]\r\n\t}\r\n  \r\n\tonOptionPick( e: string ){\r\n    var command = this\r\n      .availableCommands\r\n      .find( x => x.text == e );\r\n\r\n    if( !command ){\r\n      return \r\n    }\r\n\r\n    this.selectedCommands.push( command );\r\n    \r\n\t\tswitch( command.type ){\r\n      case GroupByCommandType.Time:\r\n\t\t\t\tthis.groupBy.push( new GroupByObject( GroupByOption.Time, [command.value] ) );\r\n        break;\r\n        \r\n\t\t\tcase GroupByCommandType.Fill:\r\n\t\t\t\tthis.groupBy.push( new GroupByObject( GroupByOption.Fill, [command.value] ) );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase GroupByCommandType.Limit:\r\n\t\t\t\tthis.query.limit = command.value;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase GroupByCommandType.SLimit:\r\n\t\t\t\tthis.query.slimit = command.value;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase GroupByCommandType.OrderBy:\r\n\t\t\t\tthis.query.order = OrderByTime.Desc;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase GroupByCommandType.Tag:\r\n\t\t\t\tthis.groupBy.push( new GroupByObject( GroupByOption.Tag, [command.value] ) );\r\n\t\t\t\tbreak;\r\n    }\r\n    \r\n    this.needRebuild()\r\n  }\r\n\r\n  onRemoveTag( t: string ){\r\n    this.query.groupBy = this\r\n      .groupBy\r\n      .filter( x => !( x.type == GroupByOption.Tag && x.params[ 0 ] == t ) );\r\n\r\n    this.needRebuild();\r\n\t}\r\n}\r\n\r\nclass GroupByCommand{\r\n\tconstructor( \r\n\t\tpublic type:GroupByCommandType,\r\n\t\tpublic text: string,\r\n\t\tpublic value: any = undefined ){\r\n\r\n\t}\r\n}\r\n\r\nenum GroupByCommandType{\r\n\tFill,\r\n\tTime,\r\n\tTag,\r\n\tLimit,\r\n\tSLimit,\r\n\tOrderBy\r\n}","<div class=\"gf-form-query\" [ngClass]=\"{'gf-form-disabled': query.hidden}\" >\r\n\t<div class=\"gf-form gf-form-query-letter-cell \" (click)=\"opened=!opened\"> \r\n\t\t<label class=\"gf-form-label\"  >\r\n\t\t\t<a class=\"pointer\" tabindex=\"1\" >\r\n        <span  ng-class=\"{muted: !ctrl.canCollapse}\" class=\"gf-form-query-letter-cell-carret\">\r\n          <i class=\"fa fa-caret-down\" *ngIf=\"opened\"></i>\r\n          <i class=\"fa fa-caret-right\" *ngIf=\"!opened\"></i>\r\n        </span>\r\n        <span class=\"gf-form-query-letter-cell-letter\">{{query.refId}}</span>\r\n        \r\n      </a>\r\n\t\t</label>\r\n\t</div>\r\n\r\n\t\r\n\t<div class=\"gf-form-query-content gf-form-query-content--collapsed mr-1\" *ngIf=\"!opened\">\r\n\t\t<div class=\"gf-form\">\r\n\t\t\t<label class=\"gf-form-label pointer gf-form-label--grow\" (click)=\"opened=!opened\">\r\n\t\t\t\t{{queryAsString}}\r\n\t\t\t</label>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"gf-form-query-content\" *ngIf=\"opened\">\r\n\r\n\t\t<ng-container *ngIf=\"!rawMode; else rawEditor\">\r\n\t\t\t<measurement-editor [query]=\"query\" (rebuild)=\"build()\"></measurement-editor>\r\n\r\n\t\t\t<fields-editor [query]=\"query\" (rebuild)=\"build()\"></fields-editor>\r\n\t\r\n\t\t\t<group-by-editor [query]=\"query\" (rebuild)=\"build()\"></group-by-editor>\r\n\t\t</ng-container>\r\n\r\n\t\t<ng-template #rawEditor>\r\n\t\t\t<div class=\"gf-form\">\r\n\t\t\t\t<textarea rows=\"3\" class=\"gf-form-input\" [(ngModel)]=\"queryAsString\"\r\n\t\t\t\t\tspellcheck=\"false\" placeholder=\"InfluxDB Query\"\r\n\t\t\t\t\tng-model-onblur ng-change=\"ctrl.refresh()\">\r\n\t\t\t\t</textarea>\r\n\t\t\t</div>\r\n\t\t</ng-template>\r\n\r\n\t</div>\r\n\r\n\t<div class=\"gf-form ed\">\r\n\t\t<label class=\"gf-form-label\" (click)=\"cm.show( $event )\">\r\n\t\t\t<a class=\"pointer dropdown-toggle\" data-toggle=\"dropdown\" tabindex=\"1\">\r\n\t\t\t\t<i class=\"fa fa-bars\"></i>\r\n\t\t\t</a>\r\n\t\t</label>\r\n    <label class=\"gf-form-label\" (click)=\"query.hidden=!query.hidden; needRebuild()\">\r\n\t\t\t<a ng-click=\"ctrl.toggleHideQuery()\" role=\"menuitem\">\r\n\t\t\t\t<i class=\"fa fa-eye\"></i>\r\n\t\t\t</a>\r\n\t\t</label>\r\n\t\t<label class=\"gf-form-label\">\r\n\t\t\t<a class=\"pointer\" tabindex=\"1\" (click)=\"remove.emit();\">\r\n\t\t\t\t<i class=\"fa fa-trash\"></i>\r\n\t\t\t</a>\r\n\t\t</label>\r\n\t</div>\r\n\r\n</div>\r\n\r\n\r\n\r\n<ed-context-menu #cm [items]=\"contextMenuItems\">\r\n</ed-context-menu>","import { Component, EventEmitter, Inject, Output } from '@angular/core';\r\nimport { DataSourceService, Panel, PANEL_TOKEN, TimeRangeStore  } from 'common';\r\nimport { BaseQueryComponent } from './query-base';\r\n\r\n@Component({\r\n  selector: 'query-editor',\r\n  templateUrl: './query.html'\r\n})\r\nexport class QueryEditorComponent extends BaseQueryComponent {\r\n\r\n  contextMenuItems = [];\r\n\r\n  opened: boolean = true;\r\n  rawMode: boolean = false;\r\n\r\n  @Output() remove = new EventEmitter();\r\n  @Output() moveUp = new EventEmitter();\r\n  @Output() moveDown = new EventEmitter();\r\n  @Output() duplicate = new EventEmitter();\r\n  \r\n\r\n  constructor(\r\n    @Inject( PANEL_TOKEN ) panel: Panel,\r\n    public dsService: DataSourceService,\r\n    public time :TimeRangeStore ){\r\n      super( panel, dsService );\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.contextMenuItems = [\r\n      {\r\n        label: 'Toggle edit mode',\r\n        command: _ => this.rawMode = !this.rawMode\r\n      },\r\n\r\n      {\r\n        label: 'Duplicate',\r\n        command: _ => this.duplicate.emit()\r\n      },\r\n\r\n      {\r\n        label: 'Move up',\r\n        command: _ => this.moveUp.emit()\r\n      },\r\n\r\n      {\r\n        label: 'Move down',\r\n        command: _ => this.moveDown.emit()\r\n      },\r\n    ]\r\n\r\n    this.build( false );\r\n  }\r\n\r\n  \r\n\r\n  onRebuild(){\r\n    this.rebuild.emit();\r\n  }\r\n}","<query-editor *ngFor=\"let t of metrics.targets\"\r\n  [query]=\"t\"\r\n  (remove)=\"onRemove(t)\"\r\n  (duplicate)=\"onDuplicate(t)\"\r\n  (moveUp)=\"onMoveUp(t)\"\r\n  (moveDown)=\"onMoveDown(t)\"\r\n  (rebuild)=\"rebuild()\">\r\n</query-editor>\r\n\r\n<div class=\"gf-form-query\">\r\n  <div class=\"gf-form gf-form-query-letter-cell\">\r\n    <label class=\"gf-form-label\">\r\n      <span class=\"gf-form-query-letter-cell-carret\">\r\n        <i class=\"fa fa-caret-down\"></i>\r\n      </span>\r\n      <span class=\"gf-form-query-letter-cell-letter\">{{nextRefId}}</span>\r\n    </label>\r\n    <button class=\"btn btn-secondary gf-form-btn\" (click)=\"onAddQuery()\" >\r\n      Add Query\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n","import { Component, Inject } from '@angular/core';\r\nimport { Panel, PANEL_TOKEN, TimeRangeStore } from 'common';\r\nimport { InfluxQuery, GroupByObject, GroupByOption, MetricVars } from '../metrics.m';\r\n\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n  selector: 'metrics-designer',\r\n  templateUrl: `./designer.html`\r\n})\r\nexport class InfluxMetricsDesignerComponent {\r\n\r\n  get metrics():any{\r\n    return this\r\n      .panel\r\n      .widget\r\n      .metrics;\r\n  }\r\n\r\n  get targets(): InfluxQuery[] {\r\n    return this.metrics.targets;\r\n  }\r\n\r\n  get nextRefId(){\r\n    let index = 0;\r\n\r\n    while( true ){\r\n      let candidate = String\r\n        .fromCharCode(65 + index++)\r\n        .toUpperCase();\r\n\r\n      let p = Math.round( index / 25 );\r\n\r\n      if( p > 0 ){\r\n        candidate += p;\r\n      }\r\n\r\n      let duplicate = this.targets.find( x => candidate == x.refId );\r\n\r\n      if( !duplicate ){\r\n        return candidate;\r\n      }\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    @Inject( PANEL_TOKEN ) public panel: Panel,\r\n    private time: TimeRangeStore){\r\n\r\n  }\r\n\r\n  ngOnInit(){\r\n    if( !this.targets?.length ){\r\n      this.onAddQuery();\r\n    }\r\n  }\r\n\r\n  onAddQuery(){\r\n    const q = new InfluxQuery();\r\n    q.refId = this.nextRefId;\r\n    q.groupBy.push( new GroupByObject( GroupByOption.Time, [MetricVars.TIME_INTERVAL] ) );\r\n\r\n    this.targets.push( q );\r\n  }\r\n\r\n  onRemove( t: InfluxQuery,  ){\r\n    const index = this.targets.indexOf( t );\r\n\r\n    if( -1 !== index ){\r\n      this.targets.splice( index, 1 );\r\n      this.rebuild();\r\n    }\r\n  }\r\n\r\n  onDuplicate( t: InfluxQuery ){\r\n    const copy = _.cloneDeep( t )\r\n    copy.refId = this.nextRefId;\r\n    this.targets.push( copy );\r\n  }\r\n\r\n  onMoveUp( t: InfluxQuery ){\r\n    const index = this.targets.indexOf( t );\r\n\r\n    if( index <= 0 ){\r\n      return;\r\n    }\r\n    \r\n\t\tthis.targets.splice( index, 1);\r\n\t\tthis.targets.splice( index - 1, 0, t )\r\n  }\r\n\r\n  onMoveDown( t: InfluxQuery ){\r\n    const index = this.targets.indexOf( t );\r\n\r\n    if( -1 == index || index == this.targets.length - 1 ){\r\n      return;\r\n    }\r\n\r\n    this.targets.splice( index, 1);\r\n\t\tthis.targets.splice( index + 1, 0, t )\r\n  }\r\n\r\n  rebuild(){\r\n    this.time.tick();\r\n  }\r\n}","import { NgModule } from '@angular/core';\nimport { InfluxSettingsEditorComponent } from './settings/settings';\n\n\nimport { EdCommonModule } from 'common';\nimport { EdUilibModule } from 'uilib';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { InfluxMetricsBuilder } from './metrics/builder';\nimport { InfluxMetricsDesignerComponent } from './metrics/designer/designer';\nimport { QueryEditorComponent } from './metrics/designer/query/query';\nimport { MeasurementEditorComponent } from './metrics/designer/query/measurement/measurement';\nimport { FieldsEditorComponent } from './metrics/designer/query/fields/fields';\nimport { FieldEditorComponent } from './metrics/designer/query/fields/field';\nimport { FieldFunctionEditorComponent } from './metrics/designer/query/fields/func/editor/func-editor';\nimport { FieldFunctionPickerComponent } from './metrics/designer/query/fields/func/picker/func-picker';\nimport { GroupByEditorComponent } from './metrics/designer/query/group-by/group-by';\nimport { GroupByTagLabelComponent } from './metrics/designer/query/group-by/tag-label.c';\n\n@NgModule({\n  declarations: [\n    InfluxSettingsEditorComponent,\n    InfluxMetricsBuilder,\n\n    InfluxMetricsDesignerComponent,\n    QueryEditorComponent,\n    MeasurementEditorComponent,\n    FieldsEditorComponent,\n    FieldEditorComponent,\n    FieldFunctionEditorComponent,\n    FieldFunctionPickerComponent,\n\n    GroupByEditorComponent,\n    GroupByTagLabelComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n\n    EdCommonModule,\n    EdUilibModule\n  ],\n  exports: [\n    InfluxSettingsEditorComponent,\n    InfluxMetricsBuilder,\n    InfluxMetricsDesignerComponent\n  ]\n})\nexport class InfluxModule { }\n","/*\n * Public API Surface of influx\n */\n\nexport * from './influx.mod';\n\nexport * from './settings/settings';\nexport * from './metrics/builder';\nexport * from './metrics/designer/designer';\nexport * from './metrics/metrics.m';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.text","i0.template","FormGroup","FormControl","Validators","i0.elementStart","i0.elementEnd","i0.element","i0.property","i0.advance","Component","OrderByTime","AggrFunc","AggrFuncGroup","GroupByOption","GroupByTimeOptions","GroupByFillOptions","TagOperator","TagCondition","of","TimeRangeParser","_.isString","EventEmitter","PANEL_TOKEN","Directive","Inject","Input","Output","i0.elementContainerStart","i0.listener","i0.elementContainerEnd","map","_.cloneDeep","ContextMenuComponent","i0.textInterpolate","i0.textInterpolate1","ViewChild","CommonModule","FormsModule","ReactiveFormsModule","EdCommonModule","EdUilibModule","NgModule"],"mappings":"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"}