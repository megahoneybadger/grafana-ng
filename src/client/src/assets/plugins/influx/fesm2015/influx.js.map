{"version":3,"file":"influx.js","sources":["../../../../app/plugins/datasources/influx/src/settings/settings.html","../../../../app/plugins/datasources/influx/src/settings/settings.ts","../../../../app/plugins/datasources/influx/src/metrics/metrics.m.ts","../../../../app/plugins/datasources/influx/src/metrics/builder.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/query-base.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/measurement/measurement.html","../../../../app/plugins/datasources/influx/src/metrics/designer/query/measurement/measurement.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/func/picker/func-items.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/func/picker/func-picker.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/func/editor/func-editor.html","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/func/editor/func-editor.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/field.html","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/field.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/fields/fields.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/group-by/tag-label.c.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/group-by/group-by.html","../../../../app/plugins/datasources/influx/src/metrics/designer/query/group-by/group-by.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/query/query.html","../../../../app/plugins/datasources/influx/src/metrics/designer/query/query.ts","../../../../app/plugins/datasources/influx/src/metrics/designer/designer.html","../../../../app/plugins/datasources/influx/src/metrics/designer/designer.ts","../../../../app/plugins/datasources/influx/src/influx.mod.ts","../../../../app/plugins/datasources/influx/src/public-api.ts","../../../../app/plugins/datasources/influx/src/influx.ts"],"sourcesContent":["<div [formGroup]=\"form\">\r\n\r\n\t<h3 class=\"page-heading\">HTTP</h3>\t\r\n\t<div class=\"gf-form-group\">\r\n\t\t<ed-textbox\r\n\t\t\tlabel=\"URL\"\r\n\t\t\tlabelWidth=\"10\"\r\n\t\t\thint=\"Specify a complete HTTP URL (for example http://your_server:8080)\"\r\n\t\t\tformControlName=\"url\"\t>\r\n\t\t\t<ng-template edValidationTemplate *ngIf=\"url.hasError( 'required' ) && url.touched\">\r\n\t\t\t\tplease enter url\r\n\t\t\t</ng-template>\r\n\t\t</ed-textbox>\r\n\r\n\t\t<ed-textbox\r\n\t\t\tlabel=\"Whitelisted Cookies\"\r\n\t\t\tlabelWidth=\"10\"\r\n\t\t\tformControlName=\"whitelistedCookies\"\t>\r\n\t\t</ed-textbox>\r\n\r\n\t</div>\r\n\r\n\t<h3 class=\"page-heading\">Auth</h3>\r\n\t<div class=\"gf-form-group\">\r\n\t\t<div class=\"gf-form-inline\">\r\n\t\t\t<ed-checkbox \r\n\t\t\t\tlabelWidth=\"10\"\r\n\t\t\t\tlabel=\"Basic Auth\"\r\n\t\t\t\tformControlName=\"basicAuthentication\">\r\n\t\t\t</ed-checkbox>\r\n\r\n\t\t\t<ed-checkbox \r\n\t\t\t\tlabelWidth=\"10\"\r\n\t\t\t\tlabel=\"With Credentials\"\r\n\t\t\t\thint=\"Whether credentials such as cookies or auth headers should be sent with cross-site requests.\"\r\n\t\t\t\tformControlName=\"withCredentials\">\r\n\t\t\t</ed-checkbox>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"gf-form-inline\">\r\n\t\t\t<ed-checkbox \r\n\t\t\t\tlabelWidth=\"10\"\r\n\t\t\t\tlabel=\"TLS Client Auth\"\r\n\t\t\t\tformControlName=\"tlsClientAuth\">\r\n\t\t\t</ed-checkbox>\r\n\r\n\t\t\t<ed-checkbox \r\n\t\t\t\tlabelWidth=\"10\"\r\n\t\t\t\tlabel=\"With CA Cert\"\r\n\t\t\t\thint=\"Needed for verifing self-signed TLS Certs\"\r\n\t\t\t\tformControlName=\"withCaCert\">\r\n\t\t\t</ed-checkbox>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"gf-form-inline\">\r\n\t\t\t<ed-checkbox \r\n\t\t\t\tlabelWidth=\"10\"\r\n\t\t\t\tlabel=\"Skip TLS Verify\"\r\n\t\t\t\tformControlName=\"skipTlsVerification\">\r\n\t\t\t</ed-checkbox>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n\r\n\t<h3 class=\"page-heading\">InfluxDB Details</h3>\r\n\r\n\t<div class=\"gf-form-group\">\r\n\t\t<ed-textbox \r\n\t\t\t[label]=\"'Database'\"\r\n\t\t\t[labelWidth]=\"10\"\r\n\t\t\tformControlName=\"database\">\r\n\t\t</ed-textbox>\r\n\r\n\t\t<div class=\"gf-form-inline\">\r\n\t\t\t<ed-textbox \r\n\t\t\t\t[label]=\"'User'\"\r\n\t\t\t\t[labelWidth]=\"10\"\r\n\t\t\t\t[width]=\"5\"\r\n\t\t\t\tformControlName=\"user\">\r\n\t\t\t</ed-textbox>\r\n\r\n\t\t\t<ed-textbox \r\n\t\t\t\t[label]=\"'Password'\"\r\n\t\t\t\t[labelWidth]=\"10\"\r\n\t\t\t\t[width]=\"5\"\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tformControlName=\"password\">\r\n\t\t\t</ed-textbox>\r\n\t\t</div>\r\n\t\r\n\t</div>\r\n\r\n\t<div class=\"gf-form-group\">\r\n\t\t<ed-info-box>\r\n\t\t\t<h5>Database Access</h5>\r\n\t\t\t<p>\r\n\t\t\t\tSetting the database for this datasource does not deny access to other databases.  The InfluxDB query syntax allows\r\n\t\t\t\tswitching the database in the query.  For example:\r\n\t\t\t\t<code>SHOW MEASUREMENTS ON _internal</code> or <code>SELECT * FROM \"_internal\"..\"database\" LIMIT 10</code>\r\n\t\t\t\t<br/><br/>\r\n\t\t\t\tTo support data isolation and security, make sure appropriate permissions are configured in InfluxDB.\r\n\t\t\t</p>\r\n\t\t</ed-info-box>\r\n\t</div>\r\n\r\n\t<div class=\"gf-form-group\">\r\n\t\t<ed-textbox \r\n\t\t\t[label]=\"'Min time interval'\"\r\n\t\t\t[labelWidth]=\"11\"\r\n\t\t\t[width]=\"5\"\r\n\t\t\t[placeholder]=\"'10s'\"\r\n\t\t\thint=\"'A lower limit for the auto group by time interval. Recommended to be set to write frequency,\r\n\t\t\t\tfor example 1m if your data is written every minute.'\"\r\n\t\t\ttype=\"password\"\r\n\t\t\tformControlName=\"minTimeInterval\">\r\n\t\t</ed-textbox>\r\n\t</div>\r\n\r\n\t\r\n</div>","import { Component } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { IDataSourceSettingsEditor } from 'common';\r\n\r\n@Component({\r\n  selector: 'ds-settings-editor',\r\n  templateUrl: './settings.html'\r\n})\r\nexport class InfluxSettingsEditorComponent implements IDataSourceSettingsEditor {\r\n\tform: FormGroup;\r\n\r\n\tget url(){\r\n\t\treturn this.form.get('url');\r\n\t}\r\n\t\r\n\tconstructor(){\r\n\t\tthis.form = new FormGroup({\r\n\t\t\t'url': new FormControl( null, Validators.required ),\r\n\t\t\t'whitelistedCookies': new FormControl( null ),\r\n\r\n\t\t\t'basicAuthentication': new FormControl( false ),\r\n\t\t\t'withCredentials': new FormControl( false ),\r\n\t\t\t'tlsClientAuth': new FormControl( false ),\r\n\t\t\t'withCaCert': new FormControl( false ),\r\n\t\t\t'skipTlsVerification': new FormControl( false ),\r\n\t\t\t\r\n\t\t\t'database': new FormControl( null, Validators.required ),\r\n\t\t\t'user': new FormControl( null ),\r\n\t\t\t'password': new FormControl( null ),\r\n\t\t\t'minTimeInterval': new FormControl( null )\r\n\t\t});\r\n\t}\r\n}","import {MetricQuery} from \"common\";\n\nexport class InfluxQuery implements MetricQuery {\n  measurement: string;\n  policy: string;\n  refId: string;\n  tags = new Array<Tag>();\n\tfields = new Array<Field>();\n\t\n\tlimit: number;\n\tslimit: number;\n\n\torder = OrderByTime.Asc;\n\talias: string;\n\n  groupBy = new Array<GroupByObject>();\n  \n  hidden: boolean;\n}\n\nexport class Field {\n  key: string;\n  functions: FuncObject[];\n}\n\nexport class FuncObject {\n  name: string;\n  param?: any;\n}\n\nexport enum AggrFunc {\n  Count = 'count',\n  Distinct = 'distinct',\n  Integral = 'integral',\n  Mean = 'mean',\n  Median = 'median',\n  Mode = 'mode',\n  Sum = 'sum',\n\n  Bottom = 'bottom',\n  First = 'first',\n  Last = 'last',\n  Max = 'max',\n  Min = 'min',\n  Percentile = 'percentile',\n  Top = 'top',\n\n  Derivative = 'derivative',\n  Spread = 'spread',\n  NonNegativeDerivative = 'non_negative_derivative',\n  Difference = 'difference',\n  NonNegativeDifference = 'non_negative_difference',\n  MovingAverage = 'moving_average',\n  CumulativeSum = 'cumulative_sum',\n  Stddev = 'stddev',\n  Elapsed = 'elapsed',\n\n  HoltWinters = 'holt_winters',\n  HoltWintersWithFit = 'holt_winters_with_fit',\n\n  Math = 'math',\n  Alias = 'alias',\n}\n\nexport enum AggrFuncGroup {\n  Aggregations,\n  Selectors,\n  Transformations,\n  Predictors,\n  Math,\n  Alias\n}\n\n\nexport class AggrFuncHelper {\n  static getGroup(f: AggrFunc|string) {\n    switch (f) {\n      case AggrFunc.Count:\n      case AggrFunc.Distinct:\n      case AggrFunc.Integral:\n      case AggrFunc.Mean:\n      case AggrFunc.Median:\n      case AggrFunc.Mode:\n      case AggrFunc.Sum:\n        return AggrFuncGroup.Aggregations;\n\n      case AggrFunc.Bottom:\n      case AggrFunc.First:\n      case AggrFunc.Last:\n      case AggrFunc.Max:\n      case AggrFunc.Min:\n      case AggrFunc.Percentile:\n      case AggrFunc.Top:\n        return AggrFuncGroup.Selectors;\n\n      case AggrFunc.Derivative:\n      case AggrFunc.Spread:\n      case AggrFunc.NonNegativeDerivative:\n      case AggrFunc.Difference:\n      case AggrFunc.NonNegativeDifference:\n      case AggrFunc.MovingAverage:\n      case AggrFunc.CumulativeSum:\n      case AggrFunc.Stddev:\n      case AggrFunc.Elapsed:\n        return AggrFuncGroup.Transformations;\n\n      case AggrFunc.HoltWinters:\n      case AggrFunc.HoltWintersWithFit:\n        return AggrFuncGroup.Predictors;\n\n      case AggrFunc.Math:\n        return AggrFuncGroup.Math;\n\n      case AggrFunc.Alias:\n        return AggrFuncGroup.Alias;\n\n    }\n  }\n}\n\nexport class GroupByObject{\n\n\tconstructor( public type, public params = [] ){}\n}\n\nexport enum GroupByOption{\n\tTime,\n\tFill,\n\tTag\n}\n\nexport enum GroupByTimeOptions{\n  Dynamic = '$__interval',\n  S1 = '1s',\n  S10 = '10s',\n  M1 = '1m',\n  M5 = '5m',\n  M10 = '10m',\n  M15 = '15m',\n  H1 = '1h',\n}\n\nexport enum GroupByFillOptions{\n\tNone = 'none',\n\tNull = 'null',\n\tZero = '0',\n\tPrev = 'previous',\n\tLinear = 'linear'\n}\n\nexport enum OrderByTime{\n\tAsc = \"asc\",\n\tDesc = \"desc\"\n}\n\nexport class MetricVars{\n\tstatic readonly TIME_FILTER = \"$timeFilter\";\n\tstatic readonly TIME_INTERVAL = \"$__interval\";\n}\n\nexport class Tag{\n  key: string = '';\n  value: string = '';\n  operator: TagOperator = TagOperator.Eq;\n  condition: TagCondition = TagCondition.And\n}\n\nexport enum TagOperator{\n  Eq = '=',\n  Neq = '<>',\n  Less = '<',\n  Greater = '>',\n  RegExEq = '=~',\n  RegExNeq = '!~'\n}\n\nexport enum TagCondition{\n  And = 'AND',\n  Or = 'OR'\n}\n\n\n","import { Component } from '@angular/core';\nimport { TimeRange, TimeRangeParser, TimeRangeStore,\n  Timezone, MetricsBuilder, Metrics } from 'common';\nimport { AggrFuncGroup, AggrFuncHelper,\n\tField, OrderByTime, GroupByOption, MetricVars, InfluxQuery } from './metrics.m';\nimport * as _ from 'lodash';\nimport { Observable, of } from 'rxjs';\n\n@Component({\n\tselector: 'metrics-builder',\n\ttemplate: ''\n})\nexport class InfluxMetricsBuilder implements MetricsBuilder {\n\n\tconstructor( private time: TimeRangeStore = undefined/* for timezone */ ){\n\t\t\n  }\n\n\tbuild( metrics: Metrics, range?: TimeRange ) : Observable<string> {\n\t\tconst array = [];\n\n\t\tmetrics\n      .targets\n      .filter( x => !(<InfluxQuery>x).hidden )\n\t\t\t.forEach(t => {\n\t\t\t\tconst gen = new Builder( this.time, t, range );\n\n\t\t\t\tif (!gen.invalid && !(<any>t).virgin) {\n\t\t\t\t\tarray.push(gen.text);\n\t\t\t\t}\n\t\t\t});\n\n\t\tlet request = array.join(';');\n\n\t\treturn of( request );\n\t}\n}\n\nclass Builder{\n\tget invalid(){\n    const invalidQuery = \n      (!this.target) ||\n      (!this.target.fields || 0 === this.target.fields.length );\n\n    return invalidQuery;\n\t}\n\t\n\tget text() {\n    return `SELECT ${this.getFieldsText()} FROM ${this.getMeasurementText()}`\n  }\n\n\tconstructor( \n\t\tprivate time: TimeRangeStore,\n\t\tprivate target: any,\n\t\tprivate range?: TimeRange ){\n\n\t}\n\n\tgetFieldsText() {\n\t\tlet result = '';\n\t\t\n    if (!this.target.fields) {\n      return result;\n    }\n\n    this.target.fields.forEach(x => {\n      if (result.length > 0) {\n        result += ', ';\n      }\n\n      result += this.getFieldText( x );\n    })\n\n    return result;\n\t}\n\t\n\t\n  getFieldText(field: Field) {\n\t\t let result = '';\n    let key = (!field.key) ? 'field' : field.key;\n\n    const aggr = field.functions.find(x =>\n      AggrFuncHelper.getGroup(x.name) == AggrFuncGroup.Aggregations ||\n      AggrFuncHelper.getGroup(x.name) == AggrFuncGroup.Selectors);\n\n    if (aggr) {\n      result += aggr.name + ((aggr.param && aggr.param.value) ?\n        `(\"${key}\", ${aggr.param.value})` : `(\"${key}\")`);\n    } else {\n      result = `\"${key}\"`;\n    }\n\n    const trans = field.functions.filter(x =>\n      AggrFuncHelper.getGroup(x.name) === AggrFuncGroup.Transformations);\n\n    trans.forEach(x => {\n      const p = (x.param && x.param.value) ? `, ${x.param.value}` : ``;\n      result = `${x.name}(${result}${p})`;\n    })\n\n    const math = field.functions.find(x =>\n      AggrFuncHelper.getGroup(x.name) === AggrFuncGroup.Math);\n\n    if (math) {\n      result = `${result} ${math.param.value}`;\n    }\n\n    const alias = field.functions.find(x =>\n      AggrFuncHelper.getGroup(x.name) === AggrFuncGroup.Alias);\n\n    if (alias) {\n      result = `${result} AS \"${alias.param.value}\"`;\n    }\n\n\t\treturn result;\n\t}\n\t\n  getMeasurementText() {\n    const meas = (!this.target.measurement) ? 'measurement' : this.target.measurement;\n\n    let rp = (this.target.policy && this.target.policy.length > 0 && this.target.policy !== 'default') ?\n      `\"${this.target.policy}\".` : '';\n\n    let root = `${rp}\"${meas}\"`;\n    let cond = '';\n\n    let tagIndex = 0;\n\n    if (this.target.tags) {\n      this\n        .target\n        .tags\n        .filter(x => x.key && x.value)\n        .forEach(x => {\n          if (tagIndex > 0) {\n            cond += ` ${x.condition} `;\n          }\n\n          const value = isRegex( x.value ) ? x.value : `'${x.value}'`;\n          cond += ` \"${x.key}\" ${x.operator} ${value}`;\n          ++tagIndex;\n        });\n    }\n\n    const timeFilter = ( this.range ) ?\n      this.getTimeFilter() : MetricVars.TIME_FILTER;\n\n    if (cond.length > 0) {\n      root = `${root} WHERE (${cond}) and ${timeFilter}`\n    }\n    else{\n      // TODO\n      root = `${root} WHERE ${timeFilter}`\n\t\t}\n\n\t\tconst groupBy = this.target.groupBy;\n\t\tconst groupByTime = groupBy.find( x => x.type == GroupByOption.Time );\n\t\tconst groupByFill = groupBy.find( x => x.type == GroupByOption.Fill );\n    const groupByTag = groupBy.filter( x => x.type == GroupByOption.Tag );\n    \n    //console.log( groupBy );\n\n\t\tif( groupByTime ){\n      const gb = ( this.range && groupByTime.params[ 0 ] == MetricVars.TIME_INTERVAL ) ?\n        this.getOptimalAutoGroupBy() : groupByTime.params[ 0 ];\n        \n\t\t\troot = `${root} GROUP BY time(${gb})`\n\t\t}\n\n\t\tif( groupByTag.length > 0 ){\n\t\t\troot = ( !groupByTime ) ? `${root} GROUP BY` : `${root},`; \n\n\t\t\tgroupByTag.forEach( (e,index) => {\n\t\t\t\troot = `${root}${index >0 ? ', ' : ' '} \"${e.params[ 0 ]}\"`\n\t\t\t} )\n\t\t}\n\t\t\n\t\tif( groupByFill ){\n\t\t\troot = `${root} FILL(${groupByFill.params[ 0 ]})`\n\t\t}\n\n\t\tif( this.target.order != OrderByTime.Asc ){\n\t\t\troot = `${root} ORDER BY time DESC`; \n\t\t}\n\t\t\n\t\tif( this.target.limit > 0 ){\n\t\t\troot = `${root} LIMIT ${this.target.limit}`;\n\t\t}\n\n\t\tif( this.target.slimit > 0 ){\n\t\t\troot = `${root} SLIMIT ${this.target.slimit}`;\n\t\t}\n\n    return root;\n\t}\n\t\n  getOptimalAutoGroupBy() : string {\n    const f = TimeRangeParser.toDateTime( this.range.from, false );\n    const t = TimeRangeParser.toDateTime( this.range.to, true );\n\n\t\tif (5 > +t.diff( f, \"minutes\" ))\n\t\t\treturn \"200ms\";\n\n\t\tif (15 > +t.diff( f, \"minutes\" ))\n\t\t\treturn \"1s\";\n\n\t\tif (30 > t.diff( f, \"minutes\" ))\n\t\t\treturn \"2s\";\n\n\t\tif (1 > t.diff( f, \"hours\" ))\n\t\t\treturn \"5s\";\t\t\n\n\t\tif (3 > t.diff( f, \"hours\" ))\n\t\t\treturn \"10s\";\t\t\n\n\t\tif (6 > t.diff( f, \"hours\" ))\n\t\t\treturn \"20s\";\t\t\n\n\t\tif (12 > t.diff( f, \"hours\" ))\n\t\t\treturn \"1m\";\t\t\n\n\t\tif (24 > t.diff( f, \"hours\" ))\n\t\t\treturn \"2m\";\t\t\n\n\t\tif (7 > t.diff( f, \"days\" ))\n\t\t\treturn \"10m\";\t\t\n\n\t\tif (31 > t.diff( f, \"days\" ))\n\t\t\treturn \"1h\";\t\t\n\n\t\tif (365 > t.diff( f, \"days\" ))\n\t\t\treturn \"12h\";\t\t\n\n\t\t return \"24h\";\n\t}\n\n  getTimeFilter() {\n    const range = this.range;\n    const tz = this.time.converter.timezone; //this.range.timezone;\n\n    let from = this.getInfluxTime( range.from, false, tz);\n    let to = this.getInfluxTime( range.to, true, tz);\n\n    const fromIsAbsolute = from[from.length - 1] === 'ms';\n\n    if (to === 'now()' && !fromIsAbsolute) {\n      return 'time >= ' + from;\n    }\n\n    return 'time >= ' + from + ' and time <= ' + to;\n\t}\n\t\n  getInfluxTime(date: any, roundUp: any, timezone: Timezone) {\n    if (_.isString(date)) {\n      if (date === 'now') {\n        return 'now()';\n      }\n\n      const parts = /^now-(\\d+)([dhms])$/.exec(date);\n\n      if (parts) {\n        const amount = parseInt(parts[1], 10);\n        const unit = parts[2];\n        return 'now() - ' + amount + unit;\n      }\n\n      date = TimeRangeParser.toDateTime(date, roundUp, timezone);\n    }\n\n    return date.valueOf() + 'ms';\n  }\n\n}\n\nexport function isRegex(expr) {\n  let isValid = true;\n  try {\n    new RegExp(expr);\n\n    isValid = ( expr.startsWith( '/' ) && expr.endsWith( '/' )  )\n  } catch (e) {\n    isValid = false;\n  }\n\n  return isValid;\n}","import { Directive, EventEmitter, Inject, Input, Output } from '@angular/core';\r\nimport { DataSourceService, Panel, PANEL_TOKEN, Series, Metrics } from 'common';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { InfluxMetricsBuilder } from '../../builder';\r\n\r\nimport { InfluxQuery, Tag, Field, GroupByObject } from '../../metrics.m';\r\n\r\n@Directive()\r\nexport class BaseQueryComponent {\r\n  readonly REMOVE = '--remove--';\r\n\treadonly ADD = '--add--';\r\n  \r\n  @Input() query : InfluxQuery;\r\n  @Output() change = new EventEmitter();\r\n  @Output() rebuild = new EventEmitter();\r\n  queryAsString: string;\r\n\r\n  get metrics(): Metrics{\r\n    return this\r\n      .panel\r\n      .widget\r\n      .metrics;\r\n  }\r\n\r\n  get dataSourceId(): number{\r\n    return this.metrics.dataSource;\r\n  }\r\n\r\n  get fields(): Field[]{\r\n    return this.query.fields;\r\n  }\r\n\r\n  get groupBy(): GroupByObject[]{\r\n    return this.query.groupBy;\r\n  }\r\n\r\n  constructor(\r\n    @Inject( PANEL_TOKEN ) public panel: Panel,\r\n    public dsService: DataSourceService){\r\n  }\r\n\r\n  proxy( command: string ) : Observable<Series[] > {\r\n    return this\r\n      .dsService\r\n      .proxy( this.dataSourceId, command)\r\n  }\r\n\r\n  needRebuild(){\r\n    this.rebuild.emit();\r\n  }\r\n\r\n  build( fireRebuild: boolean = true ){\r\n    new InfluxMetricsBuilder()\r\n      .build( {targets: [this.query], dataSource: 0 }  )\r\n      .subscribe( x =>{\r\n        this.queryAsString = x\r\n\r\n        if( fireRebuild ){\r\n          this.onRebuild();\r\n        }\r\n      });\r\n  }\r\n\r\n  onRebuild(){\r\n\r\n  }\r\n}","<div class=\"gf-form-inline\">\r\n\r\n\t<div class=\"gf-form\"  >\r\n\t\t<label class=\"gf-form-label  query-keyword width-7\" >\r\n\t\t\tFROM\r\n\t\t</label>\r\n\t</div>\r\n\r\n\t<ed-autocomplete-picker \r\n\t\t[(ngModel)]=\"query.policy\"\r\n\t\t[request]=\"retentionPolicies$\"\r\n\t\t(pick)=\"needRebuild()\" >\r\n\t</ed-autocomplete-picker>\r\n\t\r\n\t<ed-autocomplete-picker \r\n\t\tplaceholder=\"select measurement\"\r\n\t\t[(ngModel)]='query.measurement'\r\n\t\t[request]=\"measurements$\"\r\n\t\t(pick)=\"needRebuild()\">\r\n\t</ed-autocomplete-picker>\r\n\r\n\t<div class=\"gf-form\"  >\r\n\t\t<label class=\"gf-form-label query-keyword\" >\r\n\t\t\tWHERE\r\n\t\t</label>\r\n\t</div>\r\n\r\n\t<ng-container *ngFor=\"let t of query.tags;let i = index\" >\r\n\r\n\t\t<ed-autocomplete-picker \r\n\t\t\t[hidden]=\"!(i > 0 && t.key)\"\r\n\t\t\t[(ngModel)]=\"t.condition\"\r\n\t\t\t[request]=\"conditions$\" \r\n\t\t\tvalueClass=\"query-keyword\"\r\n\t\t\t(pick)=\"needRebuild()\">\r\n\t\t</ed-autocomplete-picker>\r\n\r\n\t\t<ed-autocomplete-picker\r\n\t\t\t[(ngModel)]=\"t.key\"\r\n\t\t\t[request]=\"tagEditKeys$\"\r\n\t\t\t(pick)=\"onTagKeyEditPick( $event, t );needRebuild()\">\r\n\t\t</ed-autocomplete-picker>\r\n\r\n\t\t<ed-autocomplete-picker \r\n\t\t\t[(ngModel)]=\"t.operator\"\r\n\t\t\t[request]=\"tagOperators$( t )\"\r\n\t\t\tvalueClass=\"query-segment-operator\"\r\n\t\t\t(pick)=\"needRebuild()\">\r\n\t\t</ed-autocomplete-picker>\r\n\r\n    <ed-autocomplete-picker \r\n      placeholder=\"select tag value\" \r\n      [value]='t.value'\r\n\t\t\t[request]=\"tagValues$( t )\"\r\n\t\t\t[forceSelection]=\"false\"\r\n\t\t\t(pick)=\"onTagValuePick( t, $event );\" >\r\n\t\t</ed-autocomplete-picker>\r\n\r\n\t</ng-container>\r\n\r\n\t<ed-autocomplete-picker *ngIf=\"canAddTag\"\r\n\t\tplaceholder=\"fa fa-plus\" \r\n\t\t[request]=\"tagAddKeys$\"\r\n\t\t[readonly]=\"true\"\r\n\t\t(pick)=\"onTagAddKeyPick( $event );\">\r\n\t</ed-autocomplete-picker>\r\n\r\n\t<div class=\"gf-form gf-form--grow\">\r\n\t\t<div class=\"gf-form-label gf-form-label--grow\"></div>\r\n\t</div>\r\n</div>","import { Component, Inject } from '@angular/core';\r\nimport { DataSourceService, Panel, PANEL_TOKEN } from 'common';\r\nimport { of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { isRegex } from '../../../builder';\r\nimport { Tag, TagCondition, TagOperator } from '../../../metrics.m';\r\nimport { BaseQueryComponent } from '../query-base';\r\n\r\n@Component({\r\n  selector: 'measurement-editor',\r\n  templateUrl: './measurement.html'\r\n})\r\nexport class MeasurementEditorComponent extends BaseQueryComponent  {\r\n\r\n  readonly DEFAULT_POLICY = 'default';\r\n\r\n  get retentionPolicies$() {\r\n    return this\r\n      .proxy( `SHOW RETENTION POLICIES`)\r\n      .pipe(\r\n        map(x => ['default', ...x[0].values.map(y => y[0])]));\r\n  }\r\n\r\n  get measurements$() {\r\n    return this\r\n      .proxy( `SHOW MEASUREMENTS`)\r\n      .pipe(\r\n        map(x => [...x[0].values].reduce((acc, value) => acc.concat(value), [])))\r\n  }\r\n\r\n  tagOperators$( tag:Tag ) {\r\n    const isRegexValue = isRegex( tag.value );\r\n    const allOperators = Object.values(TagOperator);\r\n\r\n    let result = isRegexValue ? allOperators.slice( 4, 6 ) : allOperators.slice( 0, 4 )\r\n\r\n    return of( result );\r\n  }\r\n\r\n  get tagAddKeys$() {\r\n    const q = (this.query.measurement) ?\r\n      `SHOW TAG KEYS from ${this.query.measurement}` :\r\n      `SHOW TAG KEYS`;\r\n\r\n    return this\r\n      .proxy( q )\r\n      .pipe(\r\n        map(x => (!x.length) ? [] : [...x[0].values.reduce((acc, value) => acc.concat(value), [])]));\r\n  }\r\n\r\n  get tagEditKeys$() {\r\n    return this\r\n      .tagAddKeys$\r\n      .pipe( \r\n        map( x => [this.REMOVE, ...x ] ));\r\n  }\r\n\r\n  tagValues$( tag: Tag ) {\r\n    const q = `SHOW TAG VALUES WITH KEY=${tag.key}`;\r\n\r\n    return this\r\n      .proxy( q )\r\n      .pipe(\r\n        map(x => x[0]?.values.map(y => y[1])));\r\n  }\r\n\r\n  get conditions$() {\r\n    return of(Object.values(TagCondition));\r\n  }\r\n\r\n  get canAddTag(){\r\n    const tags = this.query.tags;\r\n    return ( !tags?.length ) || ( tags[ tags.length - 1 ] ).value;\r\n  }\r\n\r\n  constructor( \r\n    @Inject( PANEL_TOKEN ) panel: Panel,\r\n    public dsService: DataSourceService ){\r\n      super( panel, dsService );\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (!this.query.policy) {\r\n      this.query.policy = this.DEFAULT_POLICY;\r\n    }\r\n  }\r\n \r\n  onTagAddKeyPick( k: string ) {\r\n    var tag = new Tag();\r\n    tag.key = k;\r\n    this.query.tags.push( tag );\r\n  }\r\n\r\n  onTagKeyEditPick( k: string, t: Tag ) {\r\n    if( k == this.REMOVE ){\r\n      this.query.tags = this.query.tags.filter( x => x != t );\r\n    }\r\n  }\r\n\r\n  onTagValuePick(t: Tag, v: string) {\r\n    if( v === t.value ){\r\n      return;\r\n    }\r\n\r\n    let oldValueIsRegEx = isRegex( t.value );\r\n    t.value = v;\r\n    let newValueIsRegEx = isRegex( t.value );\r\n\r\n    const regExChanged = ( oldValueIsRegEx != newValueIsRegEx );\r\n\r\n    if( regExChanged ){\r\n      t.operator = ( newValueIsRegEx ) ? TagOperator.RegExEq : TagOperator.Eq;\r\n    } \r\n\r\n    this.needRebuild()\r\n  }\r\n}","import { AggrFunc, AggrFuncGroup } from '../../../../../metrics.m';\r\n\r\nconst timeSuggestions = ['1s', '10s', '1m', '5m', '10m', '15m', '1h']\r\n\r\nexport const menuItems: any[] = [\r\n  { label: AggrFuncGroup[ 0 ], items: [ \r\n     { label: AggrFunc.Count },\r\n     { label: AggrFunc.Distinct },\r\n     { label: AggrFunc.Integral },\r\n     { label: AggrFunc.Mean },\r\n     { label: AggrFunc.Median },\r\n     { label: AggrFunc.Mode },\r\n     { label: AggrFunc.Sum },\r\n     ] },\r\n  { label: AggrFuncGroup[ 1 ], items: [ \r\n    { label: AggrFunc.Bottom, param: { value: '3' } },\r\n    { label: AggrFunc.First },\r\n    { label: AggrFunc.Last },\r\n    { label: AggrFunc.Max },\r\n    { label: AggrFunc.Min },\r\n    { label: AggrFunc.Percentile, param: { value: '95' }  },\r\n    { label: AggrFunc.Top, param: { value: '3' } },\r\n    ] },\r\n  { label: AggrFuncGroup[ 2 ], items: [ \r\n    { label: AggrFunc.Derivative,\r\n      param: { value: timeSuggestions[ 1 ], suggestions: [...timeSuggestions] } },\r\n    { label: AggrFunc.Spread  },\r\n    { label: AggrFunc.NonNegativeDerivative,\r\n       param: { value: timeSuggestions[ 1 ], suggestions: [...timeSuggestions] } },\r\n    { label: AggrFunc.Difference },\r\n    { label: AggrFunc.NonNegativeDifference },\r\n    { label: AggrFunc.MovingAverage, param: { value: '10', suggestions: ['5', '10', '20', '30', '40'] } },\r\n    { label: AggrFunc.CumulativeSum },\r\n    { label: AggrFunc.Stddev },\r\n    { label: AggrFunc.Elapsed, \r\n      param: { value: timeSuggestions[ 1 ], suggestions: [...timeSuggestions] } },\r\n    ] },\r\n//  { label: AggrFuncGroup[ 3 ], items: [ \r\n//     { label: AggrFunc.HoltWinters },\r\n//     { label: AggrFunc.HoltWintersWithFit }\r\n//     ] },\r\n  { label: AggrFuncGroup[ 4 ], items: [\r\n    { label: AggrFunc.Math, param: { value: ' / 100' } }\r\n  ]  },\r\n  { label: AggrFuncGroup[ 5 ], items: [\r\n    { label: AggrFunc.Alias, param: { value: 'alias' } }\r\n  ]  },\r\n  { label: 'Field', items: [ { label: 'field' }] }\r\n];\r\n","import { Component, EventEmitter, Output } from '@angular/core';\r\nimport { menuItems } from './func-items';\r\nimport * as _ from 'lodash';\r\nimport { ContextMenuComponent } from 'uilib';\r\n\r\n@Component({\r\n  selector: 'field-function-picker',\r\n  template: `\r\n    <div class=\"gf-form\" >\r\n      <a class=\"gf-form-label pointer\" (click)=\"cm.show( $event )\" >\r\n        <i class=\"fa fa-plus\" ></i>\r\n      </a>\r\n    </div>\r\n\r\n    <ed-context-menu [items]=\"items\" #cm></ed-context-menu>\r\n  `\r\n})\r\nexport class FieldFunctionPickerComponent   {\r\n  items =\t_.cloneDeep( menuItems ); \r\n\r\n  @Output() pick = new EventEmitter<any>();\r\n\r\n  ngOnInit(){\r\n    ContextMenuComponent.wrapItems( this.items, x => this.pick.emit( x.item ) )\r\n  }\r\n}","<div class=\"gf-form\">\r\n\t<label class=\"gf-form-label\">\r\n\t\t<a (click)=\"cmRemove.show( $event )\" class=\"pointer\">{{func.name}} (</a>\r\n\r\n\t\t<a *ngIf=\"param\">\r\n\t\t\t<span [hidden]=\"isEditorVisible\" (click)=\"onShowEditor( $event )\">{{paramValue}}</span>\r\n\t\t</a>\r\n\r\n\t\t<input *ngIf=\"isEditorVisible\" type=\"text\"\r\n\t\t\tclass=\"ff__editor \"\r\n\t\t\t[ngStyle]=\"{width: ((textValue.length + 1) * 8) + 'px' }\"\r\n\t\t\t[(ngModel)]=\"textValue\"\r\n\t\t\t(focusout)=\"onEditorFocusOut()\"\r\n\t\t\t(keydown)=\"onEditorKeyDown()\"\r\n\t\t\t(keyup.enter)=\"onEditorKeyUpEnter()\"\r\n\t\t\t(keyup.escape)=\"onEditorKeyUpEnter()\"\r\n\t\t\tspellcheck=\"false\" \r\n\t\t\t#editor >\r\n\r\n\t\t<a (click)=\"onShowEditor( $event )\">)</a>\r\n\t</label>\r\n</div>\r\n\r\n<ed-context-menu [items]=\"[deleteMenuItem]\" #cmRemove ></ed-context-menu>\r\n\r\n<ed-context-menu [items]=\"suggestionItems\" #suggestions ></ed-context-menu>","import { Component, ElementRef, EventEmitter,\r\n  Input, Output, ViewChild } from '@angular/core';\r\nimport { ContextMenuComponent } from 'uilib';\r\nimport { FuncObject } from '../../../../../metrics.m';\r\n\r\n@Component({\r\n  selector: 'field-function-editor',\r\n  templateUrl: './func-editor.html',\r\n  styleUrls: ['./func-editor.scss']\r\n})\r\nexport class FieldFunctionEditorComponent   {\r\n\r\n  @Input() func: FuncObject;\r\n  @Output() remove = new EventEmitter();\r\n  @Output() rebuild = new EventEmitter();\r\n\r\n  textValue: string;\r\n\r\n  isEditorVisible = false;\r\n  isSuggestionsMenuOpen = false;\r\n  suggestionItems = [];\r\n  deleteMenuItem = { label: 'Remove', command: _ => this.remove.emit()}\r\n\r\n  @ViewChild('editor') editorElement: ElementRef;\r\n  @ViewChild(\"suggestions\") suggestions: ContextMenuComponent;\r\n\r\n  get param(){\r\n    return this.func.param;\r\n  }\r\n\r\n  get paramValue(){\r\n    return this.param.value\r\n  }\r\n\r\n  get hasSuggestions(){\r\n    return ( this.param && this.param.suggestions );\r\n  }\r\n\r\n  ngOnInit(){\r\n    if( this.param ){\r\n      this.textValue = this.paramValue;\r\n    }\r\n    \r\n    if( this.hasSuggestions ){\r\n      this\r\n        .param\r\n        .suggestions\r\n        .forEach(e => this.suggestionItems.push({\r\n          label: e,\r\n          command: (x) => {\r\n\r\n            const same = this.paramValue == x.item.label;\r\n\r\n            if( !same ){\r\n              this.param.value = this.textValue = x.item.label;\r\n              this.isEditorVisible = false;\r\n              this.rebuild.emit()\r\n            }\r\n          }\r\n         }));\r\n    }\r\n  }\r\n\r\n  onShowEditor(e){\r\n    if( !this.param ){\r\n      return;\r\n    }\r\n\r\n    if (this.hasSuggestions) {\r\n      this.isSuggestionsMenuOpen = true;\r\n      this.suggestions.show(e);\r\n    }\r\n\r\n    setTimeout(() => { \r\n      this.isEditorVisible = true;\r\n\r\n      setTimeout( () => this.editorElement.nativeElement.focus(), 0 )\r\n    }, 0);\r\n  }\r\n\r\n  onEditorFocusOut(){\r\n    if( !this.isSuggestionsMenuOpen ){\r\n      this.isEditorVisible = false;\r\n\r\n      const same = this.paramValue == this.textValue;\r\n\r\n      if( !same ){\r\n        this.param.value = this.textValue\r\n        this.rebuild.emit()\r\n      }\r\n    }\r\n  }\r\n\r\n  onEditorKeyDown(){\r\n    this.isSuggestionsMenuOpen = false;\r\n    this.suggestions.hide()\r\n  }\r\n\r\n  onEditorKeyUpEnter(){\r\n    this.isEditorVisible = false;\r\n\r\n    const same = this.paramValue == this.textValue;\r\n\r\n    if( !same ){\r\n      this.param.value = this.textValue\r\n      this.rebuild.emit()\r\n    }\r\n  }\r\n\r\n\r\n}","<div class=\"gf-form-inline\">\r\n\r\n\t<div class=\"gf-form\">\r\n\t\t<label class=\"gf-form-label query-keyword width-7\">\r\n\t\t\t<span *ngIf=\"index === 0\">SELECT</span>&nbsp;\r\n\t\t</label>\r\n\t</div>\r\n\r\n\t<ed-autocomplete-picker \r\n\t\t[(ngModel)]=\"field.key\"\r\n\t\tplaceholder=\"field(value)\" \r\n\t\tformatString=\"field({0})\" \r\n\t\t[request]=\"fields$\"\r\n\t\t(pick)=\"onFieldPick($event);needRebuild()\">\r\n\t</ed-autocomplete-picker>\r\n\r\n\t<field-function-editor *ngFor=\"let f of field.functions\"\r\n\t\t[func] =\"f\" \r\n\t\t(remove)=\"onFuncRemove( f ); needRebuild()\"\r\n\t\t(rebuild)=\"needRebuild()\">\r\n\t</field-function-editor>\r\n\r\n\t<field-function-picker (pick)=\"onFuncPick($event); needRebuild()\" ></field-function-picker>\r\n\r\n\t<div class=\"gf-form gf-form--grow\">\r\n\t\t<div class=\"gf-form-label gf-form-label--grow\"></div>\r\n\t</div>\r\n\t\r\n</div>\r\n","import { Component, EventEmitter, Inject, Input, Output } from '@angular/core';\r\nimport { DataSourceService, Panel, PANEL_TOKEN } from 'common';\r\nimport { map } from 'rxjs/operators';\r\nimport { AggrFuncGroup, AggrFuncHelper, FuncObject } from '../../../metrics.m';\r\nimport { BaseQueryComponent } from '../query-base';\r\nimport * as _ from 'lodash';\r\nimport { menuItems } from './func/picker/func-items';\r\n\r\n@Component({\r\n  selector: 'field-editor',\r\n  templateUrl: './field.html'\r\n})\r\nexport class FieldEditorComponent extends BaseQueryComponent  {\r\n\r\n  index: number;\r\n  fieldFuncItems = menuItems; \r\n\r\n  @Input() field: any;\r\n\r\n  @Output() remove = new EventEmitter();\r\n  @Output() add = new EventEmitter();\r\n\r\n  get functions(): FuncObject[]{\r\n    return this.field.functions;\r\n  }\r\n\r\n  constructor( \r\n    @Inject( PANEL_TOKEN ) panel: Panel,\r\n    public dsService: DataSourceService ){\r\n      super( panel, dsService );\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.index = this\r\n      .query\r\n      .fields\r\n      .indexOf( this.field );\r\n\r\n    const flatFieldFuncItems = this\r\n      .fieldFuncItems\r\n      .map( p => p.items )\r\n      .reduce( (a, b) => a.concat(b));\r\n\r\n    this\r\n      .field\r\n      .functions\r\n      .forEach( f => {\r\n        if( f.param ){\r\n          let s = flatFieldFuncItems.find( x => x.text === f.name );\r\n          \r\n          if( s && s.param && s.param.suggestions ){\r\n            f.param.suggestions = [...s.param.suggestions];\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  get fields$() {\r\n    return this\r\n      .proxy(`SHOW FIELD KEYS FROM \\\"${this.query.measurement}\\\"`)\r\n      .pipe(\r\n        map(x => {\r\n          if( !x || 0 == x.length ){\r\n            return null;\r\n          }\r\n\r\n          const fields = [...x[0].values.map(y => y[0])];\r\n          return ( this.query.fields.length > 1 ) ? [ this.REMOVE, ...fields ] : fields;\r\n        } ));\r\n  }\r\n\r\n  onFieldPick( field: string ){\r\n    if( field === this.REMOVE ){\r\n      this.remove.emit();\r\n    } else{\r\n      this.field.key = field; \r\n    }\r\n  }\r\n \r\n  onFuncPick( arg ){\r\n    const fo = new FuncObject();\r\n    fo.name = arg.label;\r\n\r\n    if( arg.label == \"field\" ){\r\n      this.add.emit();\r\n      return;\r\n    }\r\n\r\n    if( arg.param )  {\r\n      fo.param = _.cloneDeep( arg.param );\r\n    }\r\n\r\n    const alias = this.functions.find( x => \r\n      AggrFuncHelper.getGroup( x.name ) ==  AggrFuncGroup.Alias )\r\n\r\n    const math = this.functions.find( x => \r\n      AggrFuncHelper.getGroup( x.name ) == AggrFuncGroup.Math )\r\n\r\n    const len = this.functions.length;\r\n\t\tconst funcs = this.functions\r\n\r\n    switch( AggrFuncHelper.getGroup( arg.label ) ){\r\n      case AggrFuncGroup.Aggregations:\r\n      case AggrFuncGroup.Selectors:\r\n        const duplicate = this\r\n          .field\r\n          .functions\r\n          .find( x => \r\n            AggrFuncHelper.getGroup( x.name ) == AggrFuncGroup.Aggregations ||\r\n            AggrFuncHelper.getGroup( x.name ) == AggrFuncGroup.Selectors );\r\n\r\n        if( duplicate ){\r\n          funcs[ 0 ] = fo;\r\n        } else{\r\n          funcs.splice( 0, 0, fo);\r\n        }\r\n        break;\r\n\r\n        case AggrFuncGroup.Transformations:\r\n          if( !alias ){\r\n            funcs.push( fo );\r\n          } else{\r\n            funcs.splice( len - 1, 0, fo);\r\n          }\r\n          break;\r\n\r\n        case AggrFuncGroup.Math:\r\n          if( math && !alias ){\r\n            funcs[ len -1 ] = fo;\r\n          } else if( !math && alias ) {\r\n            funcs.splice( len - 1, 0, fo);\r\n          } else {\r\n            funcs.push( fo );\r\n          }\r\n          break;\r\n\r\n        case AggrFuncGroup.Alias:\r\n          if( alias ){\r\n            this.functions[ len -1 ] = fo;\r\n          } else {\r\n            this.functions.push( fo );\r\n          }\r\n          break;\r\n    }\r\n  }\r\n\r\n  onFuncRemove( f: FuncObject ){\r\n    const index = this.functions.indexOf( f );\r\n\r\n    if( -1 !== index ){\r\n      this.functions.splice( index, 1 );\r\n    }\r\n  }\r\n}","import { Component, Inject } from '@angular/core';\r\nimport { DataSourceService, Panel, PANEL_TOKEN } from 'common';\r\nimport { AggrFunc, Field, FuncObject } from '../../../metrics.m';\r\nimport { BaseQueryComponent } from '../query-base';\r\n\r\n@Component({\r\n  selector: 'fields-editor',\r\n  template: `\r\n    <field-editor *ngFor=\"let f of query.fields\" \r\n      [query]=\"query\" \r\n      [field]=\"f\"\r\n      (remove)=\"onRemove(f)\"\r\n      (add)=\"onAdd()\"\r\n      (rebuild)=\"needRebuild()\" >\r\n    </field-editor> `\r\n})\r\nexport class FieldsEditorComponent extends BaseQueryComponent  {\r\n\r\n  constructor( \r\n    @Inject( PANEL_TOKEN ) panel: Panel,\r\n    public dsService: DataSourceService ){\r\n      super( panel, dsService );\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (!this.fields?.length) {\r\n      this.query.fields = [this.createEmpyField()];\r\n    }\r\n  }\r\n\r\n  onRemove(f: Field) {\r\n    const fields = this.query.fields;\r\n\r\n    if (1 < fields.length) {\r\n\r\n      const index = fields.indexOf( f );\r\n\r\n      if( -1 !== index ){\r\n        this.query.fields.splice( index, 1 );\r\n      }\r\n    }\r\n  }\r\n\r\n  onAdd() {\r\n    this\r\n      .query\r\n      .fields\r\n      .push(this.createEmpyField());\r\n  }\r\n\r\n  createEmpyField() {\r\n    const def = new FuncObject();\r\n    def.name = AggrFunc.Mean;\r\n\r\n    const field = new Field();\r\n    field.functions = [ def ];\r\n\r\n    return field;\r\n  }\r\n}","import { Component, Input, Output } from '@angular/core';\r\nimport { EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[tag-label]',\r\n\ttemplate: `\r\n\t<span (click)=\"cm.show($event)\" class=\"gf-form-label\">tag({{value}})</span>\r\n\r\n\t<ed-context-menu [items]=\"[deleteMenuItem]\" #cm>`,\r\n})\r\nexport class GroupByTagLabelComponent {\r\n\t@Input()value:string;\r\n\t@Output() removed = new EventEmitter();\r\n\r\n\tdeleteMenuItem = {\r\n\t\tlabel: 'Remove',\r\n\t\tcommand: _ => this.removed.emit( this.value )\r\n\t}\r\n} \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","<div class=\"gf-form-inline\">\r\n  <div class=\"gf-form\">\r\n    <label class=\"gf-form-label query-keyword width-7\">\r\n      <span>GROUP BY</span>\r\n    </label>\r\n  </div>\r\n\r\n  <ed-autocomplete-picker   \r\n    *ngIf=\"time\" \r\n    [(ngModel)]=\"timeValue\"\r\n    formatString=\"time({0})\"\r\n    [request]=\"timeOptions$\">\r\n  </ed-autocomplete-picker >\r\n\r\n  <div *ngFor=\"let t of tags\" [value]=\"t.params[ 0 ]\" tag-label \r\n    class=\"gf-form pointer\" (removed)=\"onRemoveTag( $event )\"\t>\r\n  </div>\r\n\r\n  <ed-autocomplete-picker *ngIf=\"fill\" \r\n    formatString=\"fill({0})\" \r\n    [(ngModel)]=\"fillValue\"\r\n    [request]=\"fillOptions$\" >\r\n  </ed-autocomplete-picker>\r\n\r\n  <ed-autocomplete-picker   \r\n    placeholder=\"fa fa-plus\"\r\n    readonly=\"true\"\r\n    [request]=\"groupByOptions$\"\r\n    (pick)=\"onOptionPick( $event );\">\r\n  </ed-autocomplete-picker>\r\n\r\n  <div class=\"gf-form gf-form--grow\">\r\n    <div class=\"gf-form-label gf-form-label--grow\"></div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"gf-form-inline\" *ngIf=\"query.order == OrderByTimeRef.Desc;\">\r\n  <div class=\"gf-form\">\r\n    <label class=\"gf-form-label query-keyword width-7\">\r\n      ORDER BY\r\n    </label>\r\n\r\n    <label class=\"gf-form-label pointer\" (click)=\"query.order=OrderByTimeRef.Asc; needRebuild()\">\r\n      time <span class=\"query-keyword\">DESC</span> <i class=\"fa fa-remove ml-1\"></i>\r\n    </label>\r\n  </div>\r\n\r\n  <div class=\"gf-form gf-form--grow\">\r\n    <div class=\"gf-form-label gf-form-label--grow\"></div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"gf-form-inline\" *ngIf=\"query.limit\">\r\n  <div class=\"gf-form\">\r\n    <label class=\"gf-form-label query-keyword width-7\">LIMIT</label>\r\n    <input type=\"text\" class=\"gf-form-input width-9\" [(ngModel)]=\"limit\"\r\n      spellcheck='false' placeholder=\"No Limit\" (change)=\"needRebuild()\" >\r\n  </div>\r\n\r\n  <div class=\"gf-form gf-form--grow\">\r\n    <div class=\"gf-form-label gf-form-label--grow\"></div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"gf-form-inline\" *ngIf=\"query.slimit\">\r\n  <div class=\"gf-form\">\r\n    <label class=\"gf-form-label query-keyword width-7\">SLIMIT</label>\r\n    <input type=\"text\" class=\"gf-form-input width-9\" [(ngModel)]=\"slimit\"\r\n      spellcheck='false' placeholder=\"No Limit\" (change)=\"needRebuild()\">\r\n  </div>\r\n\r\n  <div class=\"gf-form gf-form--grow\">\r\n    <div class=\"gf-form-label gf-form-label--grow\"></div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"gf-form-inline\">\r\n  <div class=\"gf-form max-width-30\">\r\n    <label class=\"gf-form-label query-keyword width-7\">ALIAS BY</label>\r\n    <input type=\"text\" class=\"gf-form-input\" [(ngModel)]=\"query.alias\" spellcheck='false'\r\n      placeholder=\"Naming pattern\">\r\n  </div>\r\n  <div class=\"gf-form gf-form--grow\">\r\n    <div class=\"gf-form-label gf-form-label--grow\"></div>\r\n  </div>\r\n</div>\r\n\r\n","import { Component, Inject } from '@angular/core';\r\nimport { DataSourceService, Panel, PANEL_TOKEN } from 'common';\r\nimport { BaseQueryComponent } from '../query-base';\r\nimport * as _ from 'lodash';\r\nimport { GroupByFillOptions, GroupByObject, \r\n  GroupByOption, GroupByTimeOptions, MetricVars, OrderByTime } from '../../../metrics.m';\r\nimport { of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'group-by-editor',\r\n  templateUrl: './group-by.html'\r\n})\r\nexport class GroupByEditorComponent extends BaseQueryComponent  {\r\n\r\n  availableCommands : Array<GroupByCommand>;\r\n  selectedCommands : Array<GroupByCommand>;\r\n  OrderByTimeRef = OrderByTime;\r\n\r\n  get limit() : number {\r\n\t\treturn this.query.limit;\r\n\t}\r\n\r\n\tset limit( l: number ){\r\n    this.query.limit = l;\r\n    \r\n    if( !l ){\r\n      this.needRebuild();\r\n    }\r\n  }\r\n  \r\n  get slimit() : number {\r\n\t\treturn this.query.slimit;\r\n\t}\r\n\r\n\tset slimit( l: number ){\r\n    this.query.slimit = l;\r\n    \r\n    if( !l ){\r\n      this.needRebuild();\r\n    }\r\n\t}\r\n\r\n\tget time() {\r\n\t\treturn this.groupBy.find( x => x.type == GroupByOption.Time );\r\n\t}\r\n\r\n\tget timeValue() {\r\n\t\treturn this.time.params[ 0 ];\r\n  }\r\n  \r\n  set timeValue( v: string ){\r\n    if( v == this.REMOVE ){\r\n      const index = this\r\n        .groupBy\r\n        .findIndex( x=> x.type == GroupByOption.Time );\r\n\r\n      if( -1 !== index ){\r\n        this.groupBy.splice( index, 1 );\r\n      }\r\n\t\t} else{\r\n\t\t\tthis.time.params = [ v ];\r\n    }\r\n    \r\n    this.needRebuild();\r\n  }\r\n\r\n\tget tags() {\r\n\t\treturn this.query.groupBy.filter( x => x.type == GroupByOption.Tag );\r\n\t}\r\n\r\n\tget fill() {\r\n\t\treturn this.groupBy.find( x => x.type == GroupByOption.Fill );\r\n\t}\r\n\r\n\tget fillValue() {\r\n\t\treturn this.fill.params[ 0 ];\r\n\t}\r\n\r\n\tset fillValue( v: string ){\r\n    if( v == this.REMOVE ){\r\n      const index = this\r\n        .groupBy\r\n        .findIndex( x=> x.type == GroupByOption.Fill );\r\n\r\n      if( -1 !== index ){\r\n        this.groupBy.splice( index, 1 );\r\n      }\r\n\t\t} else{\r\n\t\t\tthis.fill.params = [ v ];\r\n    }\r\n    \r\n    this.needRebuild();\r\n  }\r\n  \t\r\n  get timeOptions$() {\r\n    return of( [this.REMOVE, ...Object.values(GroupByTimeOptions)] );\r\n\t}\r\n\r\n\tget fillOptions$(){\r\n\t\treturn of( [this.REMOVE, ...Object.values(GroupByFillOptions)] );\r\n  }\r\n  \r\n  get groupByOptions$(){\r\n\t\tvar options = [];\r\n\r\n\t\tif( !this.fill ){\r\n\t\t\toptions.push( this.availableCommands[ 0 ].text );\r\n\t\t}\r\n\r\n\t\tif( !this.time ){\r\n\t\t\toptions.push( this.availableCommands[ 1 ].text );\r\n\t\t}\r\n\r\n\t\tif( !this.query.limit ){\r\n\t\t\toptions.push( this.availableCommands[ 2 ].text );\r\n\t\t}\r\n\r\n\t\tif( !this.query.slimit ){\r\n\t\t\toptions.push( this.availableCommands[ 3 ].text );\r\n\t\t}\r\n\r\n\t\tif( this.query.order != OrderByTime.Desc ){\r\n\t\t\toptions.push( this.availableCommands[ 4 ].text );\r\n\t\t}\r\n\r\n\t\tconst q = (this.query.measurement) ?\r\n\t\t\t`SHOW TAG KEYS from ${this.query.measurement}` :\r\n\t\t\t`SHOW TAG KEYS`;\r\n\r\n\t\treturn this\r\n\t\t\t.proxy(q)\r\n\t\t\t.pipe(\r\n\t\t\t\tmap(x => {\r\n\t\t\t\t\tconst tags = (!x.length) ?\r\n\t\t\t\t\t\t[] : x[0].values.reduce((acc, value) => acc.concat(value), []);\r\n\r\n\t\t\t\t\tthis.availableCommands = this\r\n\t\t\t\t\t\t.availableCommands\r\n\t\t\t\t\t\t.filter( x => x.type != GroupByCommandType.Tag )\r\n\t\t\t\t\t\t\r\n\t\t\t\t\ttags.forEach( e => this.availableCommands.push( \r\n\t\t\t\t\t\tnew GroupByCommand( GroupByCommandType.Tag, `tag(${e})`, e )));\r\n\r\n\t\t\t\t\tconst tagCommands = this\r\n\t\t\t\t\t\t.availableCommands\r\n\t\t\t\t\t\t.filter( c => c.type == GroupByCommandType.Tag )\r\n\t\t\t\t\t\t.filter( c => !this.query.groupBy.find( x =>\r\n\t\t\t\t\t\t\tx.type == GroupByCommandType.Tag &&\tx.params[ 0 ] == c.value ) )\r\n\t\t\t\t\t\t.map( c => c.text )\r\n\r\n\t\t\t\t\treturn [ ...options, ...tagCommands\t];\r\n\t\t\t\t}))\r\n\r\n\t}\r\n\r\n\r\n  constructor( \r\n    @Inject( PANEL_TOKEN ) panel: Panel,\r\n    public dsService: DataSourceService ){\r\n      super( panel, dsService );\r\n\r\n      this.selectedCommands = [];\r\n\r\n      this.availableCommands = [\r\n        new GroupByCommand( GroupByCommandType.Fill, \"fill(null)\", \"null\" ),\r\n        new GroupByCommand( GroupByCommandType.Time, \"time($interval)\", MetricVars.TIME_INTERVAL ),\r\n        new GroupByCommand( GroupByCommandType.Limit, \"LIMIT\", 10 ),\r\n        new GroupByCommand( GroupByCommandType.SLimit, \"SLIMIT\", 10 ),\r\n\t\t\t\tnew GroupByCommand( GroupByCommandType.OrderBy, \"ORDER BY time DESC\" )]\r\n\t}\r\n  \r\n\tonOptionPick( e: string ){\r\n    var command = this\r\n      .availableCommands\r\n      .find( x => x.text == e );\r\n\r\n    if( !command ){\r\n      return \r\n    }\r\n\r\n    this.selectedCommands.push( command );\r\n    \r\n\t\tswitch( command.type ){\r\n      case GroupByCommandType.Time:\r\n\t\t\t\tthis.groupBy.push( new GroupByObject( GroupByOption.Time, [command.value] ) );\r\n        break;\r\n        \r\n\t\t\tcase GroupByCommandType.Fill:\r\n\t\t\t\tthis.groupBy.push( new GroupByObject( GroupByOption.Fill, [command.value] ) );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase GroupByCommandType.Limit:\r\n\t\t\t\tthis.query.limit = command.value;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase GroupByCommandType.SLimit:\r\n\t\t\t\tthis.query.slimit = command.value;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase GroupByCommandType.OrderBy:\r\n\t\t\t\tthis.query.order = OrderByTime.Desc;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase GroupByCommandType.Tag:\r\n\t\t\t\tthis.groupBy.push( new GroupByObject( GroupByOption.Tag, [command.value] ) );\r\n\t\t\t\tbreak;\r\n    }\r\n    \r\n    this.needRebuild()\r\n  }\r\n\r\n  onRemoveTag( t: string ){\r\n    this.query.groupBy = this\r\n      .groupBy\r\n      .filter( x => !( x.type == GroupByOption.Tag && x.params[ 0 ] == t ) );\r\n\r\n    this.needRebuild();\r\n\t}\r\n}\r\n\r\nclass GroupByCommand{\r\n\tconstructor( \r\n\t\tpublic type:GroupByCommandType,\r\n\t\tpublic text: string,\r\n\t\tpublic value: any = undefined ){\r\n\r\n\t}\r\n}\r\n\r\nenum GroupByCommandType{\r\n\tFill,\r\n\tTime,\r\n\tTag,\r\n\tLimit,\r\n\tSLimit,\r\n\tOrderBy\r\n}","<div class=\"gf-form-query\" [ngClass]=\"{'gf-form-disabled': query.hidden}\" >\r\n\t<div class=\"gf-form gf-form-query-letter-cell \" (click)=\"opened=!opened\"> \r\n\t\t<label class=\"gf-form-label\"  >\r\n\t\t\t<a class=\"pointer\" tabindex=\"1\" >\r\n        <span  ng-class=\"{muted: !ctrl.canCollapse}\" class=\"gf-form-query-letter-cell-carret\">\r\n          <i class=\"fa fa-caret-down\" *ngIf=\"opened\"></i>\r\n          <i class=\"fa fa-caret-right\" *ngIf=\"!opened\"></i>\r\n        </span>\r\n        <span class=\"gf-form-query-letter-cell-letter\">{{query.refId}}</span>\r\n        \r\n      </a>\r\n\t\t</label>\r\n\t</div>\r\n\r\n\t\r\n\t<div class=\"gf-form-query-content gf-form-query-content--collapsed mr-1\" *ngIf=\"!opened\">\r\n\t\t<div class=\"gf-form\">\r\n\t\t\t<label class=\"gf-form-label pointer gf-form-label--grow\" (click)=\"opened=!opened\">\r\n\t\t\t\t{{queryAsString}}\r\n\t\t\t</label>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"gf-form-query-content\" *ngIf=\"opened\">\r\n\r\n\t\t<ng-container *ngIf=\"!rawMode; else rawEditor\">\r\n\t\t\t<measurement-editor [query]=\"query\" (rebuild)=\"build()\"></measurement-editor>\r\n\r\n\t\t\t<fields-editor [query]=\"query\" (rebuild)=\"build()\"></fields-editor>\r\n\t\r\n\t\t\t<group-by-editor [query]=\"query\" (rebuild)=\"build()\"></group-by-editor>\r\n\t\t</ng-container>\r\n\r\n\t\t<ng-template #rawEditor>\r\n\t\t\t<div class=\"gf-form\">\r\n\t\t\t\t<textarea rows=\"3\" class=\"gf-form-input\" [(ngModel)]=\"queryAsString\"\r\n\t\t\t\t\tspellcheck=\"false\" placeholder=\"InfluxDB Query\"\r\n\t\t\t\t\tng-model-onblur ng-change=\"ctrl.refresh()\">\r\n\t\t\t\t</textarea>\r\n\t\t\t</div>\r\n\t\t</ng-template>\r\n\r\n\t</div>\r\n\r\n\t<div class=\"gf-form ed\">\r\n\t\t<label class=\"gf-form-label\" (click)=\"cm.show( $event )\">\r\n\t\t\t<a class=\"pointer dropdown-toggle\" data-toggle=\"dropdown\" tabindex=\"1\">\r\n\t\t\t\t<i class=\"fa fa-bars\"></i>\r\n\t\t\t</a>\r\n\t\t</label>\r\n    <label class=\"gf-form-label\" (click)=\"query.hidden=!query.hidden; needRebuild()\">\r\n\t\t\t<a ng-click=\"ctrl.toggleHideQuery()\" role=\"menuitem\">\r\n\t\t\t\t<i class=\"fa fa-eye\"></i>\r\n\t\t\t</a>\r\n\t\t</label>\r\n\t\t<label class=\"gf-form-label\">\r\n\t\t\t<a class=\"pointer\" tabindex=\"1\" (click)=\"remove.emit();\">\r\n\t\t\t\t<i class=\"fa fa-trash\"></i>\r\n\t\t\t</a>\r\n\t\t</label>\r\n\t</div>\r\n\r\n</div>\r\n\r\n\r\n\r\n<ed-context-menu #cm [items]=\"contextMenuItems\">\r\n</ed-context-menu>","import { Component, EventEmitter, Inject, Output } from '@angular/core';\r\nimport { DataSourceService, Panel, PANEL_TOKEN, TimeRangeStore  } from 'common';\r\nimport { BaseQueryComponent } from './query-base';\r\n\r\n@Component({\r\n  selector: 'query-editor',\r\n  templateUrl: './query.html'\r\n})\r\nexport class QueryEditorComponent extends BaseQueryComponent {\r\n\r\n  contextMenuItems = [];\r\n\r\n  opened: boolean = true;\r\n  rawMode: boolean = false;\r\n\r\n  @Output() remove = new EventEmitter();\r\n  @Output() moveUp = new EventEmitter();\r\n  @Output() moveDown = new EventEmitter();\r\n  @Output() duplicate = new EventEmitter();\r\n  \r\n\r\n  constructor(\r\n    @Inject( PANEL_TOKEN ) panel: Panel,\r\n    public dsService: DataSourceService,\r\n    public time :TimeRangeStore ){\r\n      super( panel, dsService );\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.contextMenuItems = [\r\n      {\r\n        label: 'Toggle edit mode',\r\n        command: _ => this.rawMode = !this.rawMode\r\n      },\r\n\r\n      {\r\n        label: 'Duplicate',\r\n        command: _ => this.duplicate.emit()\r\n      },\r\n\r\n      {\r\n        label: 'Move up',\r\n        command: _ => this.moveUp.emit()\r\n      },\r\n\r\n      {\r\n        label: 'Move down',\r\n        command: _ => this.moveDown.emit()\r\n      },\r\n    ]\r\n\r\n    this.build( false );\r\n  }\r\n\r\n  \r\n\r\n  onRebuild(){\r\n    this.rebuild.emit();\r\n  }\r\n}","<query-editor *ngFor=\"let t of metrics.targets\"\r\n  [query]=\"t\"\r\n  (remove)=\"onRemove(t)\"\r\n  (duplicate)=\"onDuplicate(t)\"\r\n  (moveUp)=\"onMoveUp(t)\"\r\n  (moveDown)=\"onMoveDown(t)\"\r\n  (rebuild)=\"rebuild()\">\r\n</query-editor>\r\n\r\n<div class=\"gf-form-query\">\r\n  <div class=\"gf-form gf-form-query-letter-cell\">\r\n    <label class=\"gf-form-label\">\r\n      <span class=\"gf-form-query-letter-cell-carret\">\r\n        <i class=\"fa fa-caret-down\"></i>\r\n      </span>\r\n      <span class=\"gf-form-query-letter-cell-letter\">{{nextRefId}}</span>\r\n    </label>\r\n    <button class=\"btn btn-secondary gf-form-btn\" (click)=\"onAddQuery()\" >\r\n      Add Query\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n","import { Component, Inject } from '@angular/core';\r\nimport { Panel, PANEL_TOKEN, TimeRangeStore } from 'common';\r\nimport { InfluxQuery, GroupByObject, GroupByOption, MetricVars } from '../metrics.m';\r\n\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n  selector: 'metrics-designer',\r\n  templateUrl: `./designer.html`\r\n})\r\nexport class InfluxMetricsDesignerComponent {\r\n\r\n  get metrics():any{\r\n    return this\r\n      .panel\r\n      .widget\r\n      .metrics;\r\n  }\r\n\r\n  get targets(): InfluxQuery[] {\r\n    return this.metrics.targets;\r\n  }\r\n\r\n  get nextRefId(){\r\n    let index = 0;\r\n\r\n    while( true ){\r\n      let candidate = String\r\n        .fromCharCode(65 + index++)\r\n        .toUpperCase();\r\n\r\n      let p = Math.round( index / 25 );\r\n\r\n      if( p > 0 ){\r\n        candidate += p;\r\n      }\r\n\r\n      let duplicate = this.targets.find( x => candidate == x.refId );\r\n\r\n      if( !duplicate ){\r\n        return candidate;\r\n      }\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    @Inject( PANEL_TOKEN ) public panel: Panel,\r\n    private time: TimeRangeStore){\r\n\r\n  }\r\n\r\n  ngOnInit(){\r\n    if( !this.targets?.length ){\r\n      this.onAddQuery();\r\n    }\r\n  }\r\n\r\n  onAddQuery(){\r\n    const q = new InfluxQuery();\r\n    q.refId = this.nextRefId;\r\n    q.groupBy.push( new GroupByObject( GroupByOption.Time, [MetricVars.TIME_INTERVAL] ) );\r\n\r\n    this.targets.push( q );\r\n  }\r\n\r\n  onRemove( t: InfluxQuery,  ){\r\n    const index = this.targets.indexOf( t );\r\n\r\n    if( -1 !== index ){\r\n      this.targets.splice( index, 1 );\r\n      this.rebuild();\r\n    }\r\n  }\r\n\r\n  onDuplicate( t: InfluxQuery ){\r\n    const copy = _.cloneDeep( t )\r\n    copy.refId = this.nextRefId;\r\n    this.targets.push( copy );\r\n  }\r\n\r\n  onMoveUp( t: InfluxQuery ){\r\n    const index = this.targets.indexOf( t );\r\n\r\n    if( index <= 0 ){\r\n      return;\r\n    }\r\n    \r\n\t\tthis.targets.splice( index, 1);\r\n\t\tthis.targets.splice( index - 1, 0, t )\r\n  }\r\n\r\n  onMoveDown( t: InfluxQuery ){\r\n    const index = this.targets.indexOf( t );\r\n\r\n    if( -1 == index || index == this.targets.length - 1 ){\r\n      return;\r\n    }\r\n\r\n    this.targets.splice( index, 1);\r\n\t\tthis.targets.splice( index + 1, 0, t )\r\n  }\r\n\r\n  rebuild(){\r\n    this.time.tick();\r\n  }\r\n}","import { NgModule } from '@angular/core';\nimport { InfluxSettingsEditorComponent } from './settings/settings';\n\n\nimport { EdCommonModule } from 'common';\nimport { EdUilibModule } from 'uilib';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { InfluxMetricsBuilder } from './metrics/builder';\nimport { InfluxMetricsDesignerComponent } from './metrics/designer/designer';\nimport { QueryEditorComponent } from './metrics/designer/query/query';\nimport { MeasurementEditorComponent } from './metrics/designer/query/measurement/measurement';\nimport { FieldsEditorComponent } from './metrics/designer/query/fields/fields';\nimport { FieldEditorComponent } from './metrics/designer/query/fields/field';\nimport { FieldFunctionEditorComponent } from './metrics/designer/query/fields/func/editor/func-editor';\nimport { FieldFunctionPickerComponent } from './metrics/designer/query/fields/func/picker/func-picker';\nimport { GroupByEditorComponent } from './metrics/designer/query/group-by/group-by';\nimport { GroupByTagLabelComponent } from './metrics/designer/query/group-by/tag-label.c';\n\n@NgModule({\n  declarations: [\n    InfluxSettingsEditorComponent,\n    InfluxMetricsBuilder,\n\n    InfluxMetricsDesignerComponent,\n    QueryEditorComponent,\n    MeasurementEditorComponent,\n    FieldsEditorComponent,\n    FieldEditorComponent,\n    FieldFunctionEditorComponent,\n    FieldFunctionPickerComponent,\n\n    GroupByEditorComponent,\n    GroupByTagLabelComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n\n    EdCommonModule,\n    EdUilibModule\n  ],\n  exports: [\n    InfluxSettingsEditorComponent,\n    InfluxMetricsBuilder,\n    InfluxMetricsDesignerComponent\n  ]\n})\nexport class InfluxModule { }\n","/*\n * Public API Surface of influx\n */\n\nexport * from './influx.mod';\n\nexport * from './settings/settings';\nexport * from './metrics/builder';\nexport * from './metrics/designer/designer';\nexport * from './metrics/metrics.m';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.text","i0.template","i0.elementStart","i0.elementEnd","i0.element","i0.property","i0.advance","_.isString","i0.elementContainerStart","i0.listener","i0.elementContainerEnd","_.cloneDeep","i0.textInterpolate","i0.textInterpolate1"],"mappings":"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"}